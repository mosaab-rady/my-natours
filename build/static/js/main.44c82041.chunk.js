(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(48),i=a.n(c),r=(a(58),a(3)),l=a.n(r),o=a(5),u=a(4),d=a(7),j=a(14),m=a(17),b=function(){var e=document.querySelector(".notifacation");e&&e.parentElement.removeChild(e)},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;b();var s='<div class="notifacation '.concat(e,'"><p>').concat(t,"</p></div>");document.querySelector(".App").insertAdjacentHTML("afterbegin",s),window.setTimeout(b,1e3*a)},h=a(49),O=a.n(h);function g(e,t,a){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(l.a.mark((function e(t,a,s){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({withCredentials:!0,validateStatus:function(e){return e>=200&&e<=500},method:t,url:a,data:s});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=a(1),v=n.a.createContext(null),f=function(e,t){return"LOGGED_IN"===t.type?Object(m.a)(Object(m.a)({},e),{},{currentUser:t.payload}):"LOG_OUT"===t.type?Object(m.a)(Object(m.a)({},e),{},{currentUser:null}):"ALL_TOURS"===t.type?Object(m.a)(Object(m.a)({},e),{},{allTours:t.payload}):void 0},N={currentUser:null,allTours:[]};function w(e){var t=e.children,a=Object(s.useReducer)(f,N),n=Object(u.a)(a,2),c=n[0],i=n[1];return Object(s.useEffect)((function(){document.cookie.split(";").some((function(e){return e.trim().startsWith("jwt_server=")}))&&!c.currentUser&&function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","http://localhost:5000/api/v1/users/me");case 2:(t=e.sent)&&"success"===t.data.status&&i({type:"LOGGED_IN",payload:t.data.data.user});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/tours");case 2:(t=e.sent)&&("success"===t.data.status&&i({type:"ALL_TOURS",payload:t.data.data.tours}),"success"!==t.data.status&&p(t.data.status,t.data.message,5));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c.currentUser]),Object(_.jsx)(v.Provider,{value:Object(m.a)(Object(m.a)({},c),{},{dispatch:i}),children:t})}var y=function(){var e=Object(s.useContext)(v).currentUser,t=Object(s.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/users/logOut");case 2:p("fail","logged out",3),setTimeout((function(){return window.location.href="/"}),3e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"nav_container",children:[Object(_.jsx)(d.b,{to:"/",className:"nav_link btn_all_tours",onClick:function(){return c(!1)},children:"all tours"}),Object(_.jsx)("img",{src:"/public/img/logo/logo-white.png",alt:"logo",id:"logo_img"}),Object(_.jsx)(j.b,{id:"nav_icon",onClick:function(){return c(!n)}}),e?Object(_.jsxs)("ul",{className:n?"show_nav_links nav_links":"hide_nav_links nav_links",children:[Object(_.jsx)("li",{className:"nav_el",children:Object(_.jsxs)(d.b,{to:"/myaccount",className:"nav_link me-btn",onClick:function(){return c(!n)},children:[Object(_.jsx)("img",{className:"nav-el__user-img",src:"/public/img/users/".concat(e.photo),alt:"user ".concat(e.name)}),Object(_.jsx)("span",{children:e.name.split(" ")[0]})]})}),Object(_.jsx)("li",{className:"nav_el",children:Object(_.jsx)(d.b,{to:"#",className:"nav_link btn_logout",onClick:function(){c(!n),i()},children:"log out"})})]}):Object(_.jsxs)("ul",{className:n?"show_nav_links nav_links":"hide_nav_links nav_links",children:[Object(_.jsx)("li",{className:"nav_el",children:Object(_.jsx)(d.b,{to:"/login",className:"nav_link btn_login",onClick:function(){return c(!n)},children:"log in"})}),Object(_.jsx)("li",{className:"nav_el",children:Object(_.jsx)(d.b,{to:"/signup",className:"nav_link btn_signup",onClick:function(){return c(!n)},children:"sign up"})})]})]})})},k=a(6),C=a(10),L=a(12);function S(e){var t=new Date(e),a=t.getMonth(),s=t.getUTCFullYear();return{month:["January","February","March","April","May","June","July","August","September","October","November","December"][a],year:s}}function F(e){var t=e.id,a=e.imageCover,s=e.name,n=e.ratingsAverage,c=e.ratingsQuantity,i=e.duration,r=e.maxGroupSize,l=e.difficulty,o=e.summary,u=e.price,m=e.stops,b=e.startLocation,p=e.startDate,h=e.slug,O=S(p),g=O.month,x=O.year;return Object(_.jsxs)("div",{className:"tour_container",children:[Object(_.jsxs)("div",{className:"header_container",children:[Object(_.jsx)("div",{className:"img_container",children:Object(_.jsx)("img",{className:"singleTour_img",src:"/public/img/tours/".concat(a),alt:s})}),Object(_.jsx)("h3",{className:"singleTour_name",children:Object(_.jsx)("span",{children:s})})]}),Object(_.jsxs)("div",{className:"details_container",children:[Object(_.jsxs)("h4",{children:[l," ",i,"-day tour"]}),Object(_.jsx)("p",{children:o}),Object(_.jsxs)("div",{className:"card_data",children:[Object(_.jsxs)("div",{className:"card_el",children:[Object(_.jsx)(L.e,{className:"card_el_img"}),Object(_.jsx)("span",{children:b})]}),Object(_.jsxs)("div",{className:"card_el",children:[Object(_.jsx)(C.a,{className:"card_el_img"}),Object(_.jsxs)("span",{children:[g," ",x]})]}),Object(_.jsxs)("div",{className:"card_el",children:[Object(_.jsx)(L.c,{className:"card_el_img"}),Object(_.jsxs)("span",{children:[m," stops"]})]}),Object(_.jsxs)("div",{className:"card_el",children:[Object(_.jsx)(j.e,{className:"card_el_img"}),Object(_.jsxs)("span",{children:[r," people"]})]})]})]}),Object(_.jsxs)("div",{className:"card_footer",children:[Object(_.jsxs)("div",{className:"footer_data",children:[Object(_.jsxs)("div",{className:"footer_data_el",children:[Object(_.jsxs)("span",{className:"footer_price",children:["$",u]}),Object(_.jsx)("span",{className:"footer_data_el_detail",children:"per person"})]}),Object(_.jsxs)("div",{className:"footer_data_el",children:[Object(_.jsx)("span",{className:"footer_price",children:n}),Object(_.jsxs)("span",{className:"footer_data_el_detail",children:["rating(",c,")"]})]})]}),Object(_.jsx)(d.b,{to:{pathname:"/tour/".concat(h),state:{tourId:t}},className:"nav_link details_link",children:"details"})]})]})}var T=function(){document.title="Natours | All Tours";var e=Object(s.useContext)(v).allTours;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"tours_container",children:e.map((function(e,t){return Object(_.jsx)(F,{id:e.id,imageCover:e.imageCover,name:e.name,ratingsAverage:e.ratingsAverage,ratingsQuantity:e.ratingsQuantity,duration:e.duration,maxGroupSize:e.maxGroupSize,difficulty:e.difficulty,summary:e.summary,price:e.price,stops:e.locations.length,startLocation:e.startLocation.description,startDate:e.startDates[0],slug:e.slug},t)}))})})},D=a(16),E=a(19),G=a.n(E),A=a(51);function q(e){var t=e.locations;G.a.workerClass=A.a,G.a.accessToken="pk.eyJ1IjoibW9zYWFiLXJhZGkiLCJhIjoiY2tudGNlemRtMDFuZDJva2dqOHZ5eWd3biJ9.UqnuRReOXieyD9K1kVmb9A";var a=Object(s.useRef)();return Object(s.useEffect)((function(){var e=new G.a.Map({container:a.current,style:"mapbox://styles/mapbox/light-v10",scrollZoom:!1}),s=new G.a.LngLatBounds;return t.forEach((function(t){new G.a.Marker({color:"#55c57a"}).setLngLat(t.coordinates).addTo(e),new G.a.Popup({offset:60}).setLngLat(t.coordinates).setHTML("<p>Day ".concat(t.day,": ").concat(t.description,"</p>")).addTo(e),s.extend(t.coordinates)})),e.fitBounds(s,{padding:{top:250,bottom:250,left:100,right:100}}),function(){return e.remove()}})),Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"map-container",ref:a})})}var I=a(52),U=Object(I.a)("pk_test_51IpxicDPN2xmZKI6ZaILPd4gdFWIAAIpQoc6ioMW7YFMp3Dogp7mv7XWgqdA7pGktYCiGpyRBQlu5tTAdGaB8Uv1004pNdT6W4"),V=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("GET","/api/v1/bookings/checkout-session/".concat(t));case 3:if(!(a=e.sent)){e.next=14;break}if("success"!==a.data.status){e.next=13;break}return e.next=8,U;case 8:return s=e.sent,e.next=11,s.redirectToCheckout({sessionId:a.data.data.session.id});case 11:n=e.sent,console.log(n);case 13:"success"!==a.data.status&&p("fail",a.data.message,3);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),p("error",e.t0,3);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();var R=function(){var e=Object(k.f)().slug,t=Object(s.useContext)(v),a=t.currentUser,n=t.allTours,c=Object(s.useState)([]),i=Object(u.a)(c,2),r=i[0],d=i[1],m=Object(s.useState)("hide__add-review"),b=Object(u.a)(m,2),h=b[0],O=b[1],x=Object(s.useState)(""),f=Object(u.a)(x,2),N=f[0],w=f[1],y=n.find((function(t){return t.slug===e}));if(Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=6;break}return w(Object(_.jsx)(q,{locations:y.locations})),e.next=4,g("GET","/api/v1/tours/".concat(y.id,"/reviews"));case 4:"success"===(t=e.sent).data.status&&d(t.data.data.reviews);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]),y){document.title="Natours | ".concat(y.name," ");var L=S(y.startDates[0]),F=L.month,T=L.year,E=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a={}).review=t.target.review.value,a.rating=t.target.rating.value,e.next=6,g("POST","/api/v1/reviews/addreview/".concat(y._id),a);case 6:(s=e.sent)&&("success"===s.data.status&&(p("success","added review",1.5),setTimeout((function(){return document.location.reload()}),1500)),"success"!==s.data.status&&p("fail",s.data.message,3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"tour_details",children:[Object(_.jsxs)("div",{className:"hero_container",children:[Object(_.jsx)("div",{className:"hero_img_container",children:Object(_.jsx)("img",{className:"hero_img",src:"/public/img/tours/".concat(y.imageCover),alt:y.name})}),Object(_.jsx)("div",{className:"hero_details",children:Object(_.jsx)("h3",{className:"hero_name",children:Object(_.jsxs)("span",{children:[y.name," tour"]})})})]}),Object(_.jsxs)("section",{className:"tour-description-container",children:[Object(_.jsxs)("div",{className:"overview-box",children:[Object(_.jsxs)("div",{className:"overview-box__group",children:[Object(_.jsx)("h2",{className:"overview-box__group__heading",children:"quick facts"}),Object(_.jsxs)("div",{className:"overview-box__group__el",children:[Object(_.jsx)(C.a,{className:"overview-box__group__el__img"}),Object(_.jsxs)("p",{className:"overview-box__group__el__p",children:[Object(_.jsx)("span",{children:"next date"}),F," ",T]})]}),Object(_.jsxs)("div",{className:"overview-box__group__el",children:[Object(_.jsx)(j.d,{className:"overview-box__group__el__img"}),Object(_.jsxs)("p",{className:"overview-box__group__el__p",children:[Object(_.jsx)("span",{children:"difficulty"}),y.difficulty]})]}),Object(_.jsxs)("div",{className:"overview-box__group__el",children:[Object(_.jsx)(j.e,{className:"overview-box__group__el__img"}),Object(_.jsxs)("p",{className:"overview-box__group__el__p",children:[Object(_.jsx)("span",{children:"participants"}),y.maxGroupSize," people"]})]}),Object(_.jsxs)("div",{className:"overview-box__group__el",children:[Object(_.jsx)(D.a,{className:"overview-box__group__el__img"}),Object(_.jsxs)("p",{className:"overview-box__group__el__p",children:[Object(_.jsx)("span",{children:"rating"}),y.ratingsAverage," / 5"]})]})]}),Object(_.jsxs)("div",{className:"overview-box__group",children:[Object(_.jsx)("h2",{className:"overview-box__group__heading",children:"your tour guides"}),y.guides.map((function(e,t){return Object(_.jsxs)("div",{className:"overview-box__group__el",children:[Object(_.jsx)("img",{className:"overview-box__group__el__img__user",src:"/public/img/users/".concat(e.photo),alt:e.name}),Object(_.jsxs)("p",{className:"overview-box__group__el__p",children:[Object(_.jsx)("span",{children:"lead-guide"===e.role?"lead guide":"tour guide"}),e.name]})]},t)}))]})]}),Object(_.jsxs)("div",{className:"description-box",children:[Object(_.jsxs)("h2",{className:"overview-box__group__heading",children:["about ",y.name," tour"]}),Object(_.jsx)("p",{className:"description-box__p",children:y.description})]})]}),Object(_.jsx)("section",{className:"tour-details__imgs-container",children:Object(_.jsx)("div",{className:"tour-details__imgs-container__imgs",children:y.images.map((function(e,t){return Object(_.jsx)("img",{src:"/public/img/tours/".concat(e),alt:e,className:"tour-details__imgs-container__img"},t)}))})}),Object(_.jsx)("section",{className:"tour-details__map",children:N}),Object(_.jsxs)("section",{className:"tour-details__reviews",children:[Object(_.jsxs)("div",{className:"tour-details__reviews-container",children:[Object(_.jsx)("div",{className:"hide__add-review"===h?"hide__add-review":"show__add-review",children:Object(_.jsxs)("form",{className:"add-review",onSubmit:E,children:[Object(_.jsx)(C.b,{className:"colse-add-review",onClick:function(){return O("hide__add-review")}}),Object(_.jsxs)("div",{className:"input-group__review",children:[Object(_.jsx)("label",{htmlFor:"add-review__review",children:"review"}),Object(_.jsx)("textarea",{name:"review",id:"add-review__rating",required:!0})]}),Object(_.jsxs)("div",{className:"input-group__rating",children:[Object(_.jsx)("label",{htmlFor:"add-review__rating",children:"rating"}),Object(_.jsx)("input",{type:"number",name:"rating",id:"add-review__rating",min:"1",max:"5",defaultValue:"1",required:!0})]}),Object(_.jsx)("button",{children:"add review"})]})}),r.map((function(e,t){var a=e.user.photo;return Object(_.jsxs)("div",{className:"review-card",children:[Object(_.jsxs)("div",{className:"review-card__user",children:[Object(_.jsx)("img",{className:"review-card__user-img",src:"/public/img/users/".concat(a),alt:e.user.name}),Object(_.jsx)("p",{children:e.user.name})]}),Object(_.jsx)("div",{className:"review-card__p-1",children:Object(_.jsx)("div",{className:"review-card__p-2",children:e.review})}),Object(_.jsx)("div",{className:"review-card__rating",children:[1,2,3,4,5].map((function(t,a){return Object(_.jsx)(D.a,{className:e.rating>=t?"active star":"inactive star"},a)}))})]},t)}))]}),Object(_.jsx)("button",{className:"add-review__btn",onClick:function(){return O("show__add-review")},children:"add new review"})]}),Object(_.jsxs)("section",{className:"section-cta",children:[Object(_.jsxs)("div",{className:"section-cta__imgs",children:[Object(_.jsx)("div",{className:"section-cta__imgs__logo-container",children:Object(_.jsx)("img",{className:"section-cta__logo",src:"/public/img/logo/logo-white.png",alt:"logo"})}),Object(_.jsx)("img",{className:"section-cta__img section-cta__img-1",src:"/public/img/tours/".concat(y.images[1]),alt:"tour-img"}),Object(_.jsx)("img",{className:"section-cta__img section-cta__img-2",src:"/public/img/tours/".concat(y.images[2]),alt:"tour-img"})]}),Object(_.jsxs)("div",{className:"section-cta__q",children:[Object(_.jsx)("h2",{children:"what are you waiting for?"}),Object(_.jsxs)("p",{children:[y.duration," days. 1 adventure. Infinite memories. Make it yours today!"]})]}),a?Object(_.jsx)("button",{className:"booking-btn",onClick:function(){return e=y._id,void V(e);var e},children:"book tour now!"}):Object(_.jsx)("button",{onClick:function(){return window.location.href="/login"},className:"booking-btn",children:"log in to book tour"})]})]})}return null};a(102);var z=function(){document.title="Natours | Log In ";var e,t=Object(s.useContext)(v).dispatch,a=function(){var a=Object(o.a)(l.a.mark((function a(s){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.next=3,g("POST","/api/v1/users/logIn",{email:s.target.email.value,password:s.target.password.value});case 3:(n=a.sent)&&("success"===n.data.status&&(t({type:"LOGGED_IN",payload:n.data.data.user}),p(n.data.status,"Logged In successfully",1.5),setTimeout((function(){return window.location.href="/"}),1500)),"success"!==n.data.status&&(e=n.data.message,p(n.data.status,e,5)));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"login-container",children:[Object(_.jsx)("h1",{className:"login-container__header",children:"log into your account"}),Object(_.jsxs)("form",{className:"login-form",onSubmit:a,children:[Object(_.jsxs)("div",{className:"login-form__group",children:[Object(_.jsx)("label",{htmlFor:"email",children:"email"}),Object(_.jsx)("input",{type:"email",id:"email",required:!0,name:"email",placeholder:"you@example.com"})]}),Object(_.jsxs)("div",{className:"login-form__group",children:[Object(_.jsx)("label",{htmlFor:"password",children:"password"}),Object(_.jsx)("input",{type:"password",required:!0,name:"password",id:"password",minLength:"8",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(_.jsx)("button",{className:"login-btn",children:"log in"})]})]})})};a(103);var B=function(){document.title="Natours | Sign Up ";var e,t=Object(s.useState)("default.jpg"),a=Object(u.a)(t,2),n=a[0],c=a[1],i=Object(s.useContext)(v).dispatch,r=function(){var t=Object(o.a)(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(s=new FormData).append("name",a.target.name.value),s.append("email",a.target.email.value),s.append("password",a.target.password.value),s.append("passwordConfirm",a.target.passwordConfirm.value),s.append("photo",a.target.photo.files[0]),t.next=9,g("POST","/api/v1/users/signUp",s);case 9:(n=t.sent)&&("success"===n.data.status&&(i({type:"LOGGED_IN",payload:n.data.data.user}),p(n.data.status,"signed up successfully",1.5),setTimeout((function(){return window.location.href="/"}),1500)),"success"!==n.data.status&&(e=n.data.message,p(n.data.status,e,5)));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"signup-container",children:[Object(_.jsx)("h1",{className:"signup-container__header",children:"create new account"}),Object(_.jsxs)("form",{className:"signup__form",onSubmit:r,encType:"multipart/form-data",children:[Object(_.jsxs)("div",{className:"form__group",children:[Object(_.jsx)("label",{htmlFor:"name",children:"name"}),Object(_.jsx)("input",{type:"text",required:!0,name:"name",id:"name",minLength:"4"})]}),Object(_.jsxs)("div",{className:"form__group",children:[Object(_.jsx)("label",{htmlFor:"email",children:"email"}),Object(_.jsx)("input",{type:"email",placeholder:"you@example.com",required:!0,name:"email",id:"email"})]}),Object(_.jsxs)("div",{className:"form__group",children:[Object(_.jsx)("label",{htmlFor:"password",children:"password"}),Object(_.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,minLength:"8",name:"password",id:"password"})]}),Object(_.jsxs)("div",{className:"form__group",children:[Object(_.jsx)("label",{htmlFor:"passwordConfirm",children:"confirm password"}),Object(_.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",minLength:"8",required:!0,name:"passwordConfirm",id:"passwordConfirm"})]}),Object(_.jsxs)("div",{className:"form__group-img",children:[Object(_.jsx)("img",{src:n,alt:"",className:"signup__photo"}),Object(_.jsx)("label",{htmlFor:"photo",className:"photo-btn",children:"choose new photo"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"photo",name:"photo",onChange:function(e){if(e.preventDefault(),e.target.files&&e.target.files[0]){var t=new FileReader;t.onload=function(e){c(e.target.result)},t.readAsDataURL(e.target.files[0])}}})]}),Object(_.jsx)("button",{className:"signup-btn",children:"sign up"})]})]})})},P=function(e){var t=e.err;return Object(_.jsxs)("div",{className:"error_page",children:[Object(_.jsx)("h1",{children:"404"}),Object(_.jsxs)("h1",{children:[t," "]})]})},M=(a(47),a(53));function J(){var e,t=Object(s.useContext)(v),a=t.dispatch,n=t.currentUser,c=Object(s.useState)(),i=Object(u.a)(c,2),r=i[0],d=i[1],j=function(){var t=Object(o.a)(l.a.mark((function t(s){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),(n=new FormData).append("name",s.target.name.value),n.append("email",s.target.email.value),n.append("photo",s.target.photo.files[0]),t.next=7,g("PATCH","/api/v1/users/updateMe",n);case 7:(c=t.sent)&&("success"===c.data.status&&(a({type:"LOGGED_IN",payload:c.data.data.user}),p(c.data.status,"updated data successfully",1.5),setTimeout((function(){return document.location.reload()}),1500)),"success"!==c.data.status&&(e=c.data.message,p(c.data.status,e,5e3)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(l.a.mark((function t(s){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),(n={}).currentPassword=s.target.currentPassword.value,n.password=s.target.password.value,n.passwordConfirm=s.target.passwordConfirm.value,t.next=7,g("PATCH","/api/v1/users/updatePassword",n);case 7:(c=t.sent)&&("success"===c.data.status&&(a({type:"LOGGED_IN",payload:c.data.data.user}),p(c.data.status,"updated data successfully",1.5),setTimeout((function(){return document.location.reload()}),1500)),"success"!==c.data.status&&(e=c.data.message,p(c.data.status,e,5e3)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"me__settings",children:[Object(_.jsxs)("div",{className:"me__account",children:[Object(_.jsx)("h2",{children:"your account settings"}),Object(_.jsxs)("form",{className:"me__form-settings",onSubmit:j,encType:"multipart/form-data",children:[Object(_.jsxs)("div",{className:"me__group",children:[Object(_.jsx)("label",{htmlFor:"name",children:"name"}),Object(_.jsx)("input",{type:"text",required:!0,name:"name",id:"name",minLength:"4",defaultValue:n.name})]}),Object(_.jsxs)("div",{className:"me__group",children:[Object(_.jsx)("label",{htmlFor:"email",children:"email"}),Object(_.jsx)("input",{type:"email",required:!0,name:"email",id:"email",defaultValue:n.email})]}),Object(_.jsxs)("div",{className:"me__group-img",children:[Object(_.jsx)("img",{src:r||"/public/img/users/".concat(n.photo),alt:n.name,className:"signup__photo settings-photo"}),Object(_.jsx)("label",{htmlFor:"photo",className:"photo-btn photo-btn__settings",children:"choose new photo"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"photo",name:"photo",onChange:function(e){if(e.preventDefault(),e.target.files&&e.target.files[0]){var t=new FileReader;t.onload=function(e){d(e.target.result)},t.readAsDataURL(e.target.files[0])}}})]}),Object(_.jsx)("button",{className:"settings-btn",children:"save settings"})]})]}),Object(_.jsxs)("div",{className:"me__password",children:[Object(_.jsx)("h2",{children:"password change"}),Object(_.jsxs)("form",{className:"me__form-password",onSubmit:m,children:[Object(_.jsxs)("div",{className:"me__group",children:[Object(_.jsx)("label",{htmlFor:"currentPassword",children:"current password"}),Object(_.jsx)("input",{type:"password",required:!0,name:"currentPassword",id:"currentPassword",minLength:"8",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(_.jsxs)("div",{className:"me__group",children:[Object(_.jsx)("label",{htmlFor:"password",children:"new password"}),Object(_.jsx)("input",{type:"password",required:!0,name:"password",id:"password",minLength:"8",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]})," ",Object(_.jsxs)("div",{className:"me__group",children:[Object(_.jsx)("label",{htmlFor:"passwordConfirm",children:"confirm password"}),Object(_.jsx)("input",{type:"password",required:!0,name:"passwordConfirm",id:"passwordConfirm",minLength:"8",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(_.jsx)("button",{className:"settings-btn",children:"save password"})]})]})]})}a(104);function Q(){var e=Object(s.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/bookings/mybookings");case 2:(t=e.sent)&&("success"===t.data.status&&n(t.data.data.tours),"success"!==t.data.status&&p("fail",t.data.message,3));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a?a.length>=1?Object(_.jsx)("div",{className:"tours_container bookings-container ",children:a.map((function(e,t){return Object(_.jsx)(F,{id:e.id,imageCover:e.imageCover,name:e.name,ratingsAverage:e.ratingsAverage,ratingsQuantity:e.ratingsQuantity,duration:e.duration,maxGroupSize:e.maxGroupSize,difficulty:e.difficulty,summary:e.summary,price:e.price,stops:e.locations.length,startLocation:e.startLocation.description,startDate:e.startDates[0],slug:e.slug},t)}))}):a.length<1?Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("h1",{children:"you do not have bookings yet"})}):void 0:Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("div",{className:"loading"})})}a(105);function H(){var e=Object(s.useContext)(v).currentUser,t=Object(s.useState)(),a=Object(u.a)(t,2),n=a[0],c=a[1];Object(s.useEffect)((function(){(function(){var t=Object(o.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("GET","/api/v1/users/".concat(e._id,"/reviews"));case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var i=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,g("DELETE","/api/v1/reviews/".concat(e));case 3:((s=t.sent).status=204)&&(p("success","review deleted",1.5),setTimeout((function(){document.location.reload()}),1500)),204!==s.status&&p("fail",s.data.message,3);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};if(n){if("success"===n.data.status&&n.data.data.results>=1){var r=n.data.data.reviews;return Object(_.jsx)("div",{className:"my-reviews",children:r.map((function(e){return Object(_.jsxs)("form",{onSubmit:(t=e.id,function(){var e=Object(o.a)(l.a.mark((function e(a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,g("PATCH","/api/v1/reviews/".concat(t),{review:a.target.review.value,rating:a.target.rating.value});case 3:"success"===(s=e.sent).data.status&&(p("success","updated data successfully",1.5),setTimeout((function(){window.location.reload()}),1500)),"success"!==s.data.status&&p("fail",s.data.message,3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),className:"my-reviews__review-container",children:[Object(_.jsxs)("h1",{children:[e.tour.name," tour"]}),Object(_.jsx)("h5",{children:e.createdAt.split("T")[0]}),Object(_.jsx)("textarea",{name:"review",id:"review",rows:"6",defaultValue:e.review}),Object(_.jsxs)("div",{className:"review-star",children:[[1,2,3,4,5].map((function(t,a){return Object(_.jsx)(D.a,{className:e.rating>=t?"active star":"inactive star"},a)})),Object(_.jsx)("input",{className:"my-review__input num-input",name:"rating",type:"number",required:!0,min:1,max:5,step:.5,defaultValue:e.rating})]}),Object(_.jsxs)("div",{className:"my-reviews__btns",children:[Object(_.jsx)("button",{children:"update"}),Object(_.jsx)("button",{onClick:i(e.id),children:"delete"})]})]},e.id);var t}))})}return"success"!==n.data.status?void p(n.data.status,n.data.message,5):Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("h1",{children:"you don`t have reviews"})})}return Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("div",{className:"loading"})})}function W(){return Object(_.jsx)("div",{children:Object(_.jsx)("h1",{children:"billing"})})}a(106),a(107);function Z(e){var t=e.id,a=e.imageCover,s=e.name,n=e.ratingsAverage,c=e.ratingsQuantity,i=e.duration,r=e.maxGroupSize,u=e.difficulty,m=e.summary,b=e.price,h=e.stops,O=e.startLocation,x=e.startDate,v=e.slug,f=e.setUpdateTour,N=e.setId,w=S(x),y=w.month,k=w.year;return Object(_.jsxs)("div",{className:"manage-tours__single-tour",children:[Object(_.jsxs)("div",{className:"single-tour__header",children:[Object(_.jsx)("div",{className:"single-tour__img-container",children:Object(_.jsx)("img",{className:"single-tour__img",src:"/public/img/tours/".concat(a),alt:s})}),Object(_.jsx)("h3",{className:"single-tour__name",children:Object(_.jsx)("span",{children:s})})]}),Object(_.jsxs)("div",{className:"single-tour__details-container",children:[Object(_.jsxs)("h4",{children:[u," ",i,"-day tour"]}),Object(_.jsx)("p",{children:m}),Object(_.jsxs)("div",{className:"single-tour__card-data",children:[Object(_.jsxs)("div",{className:"single-tour__card-el",children:[Object(_.jsx)(L.e,{className:"single-tour__card-el__icon"}),Object(_.jsx)("span",{children:O})]}),Object(_.jsxs)("div",{className:"single-tour__card-el",children:[Object(_.jsx)(C.a,{className:"single-tour__card-el__icon"}),Object(_.jsxs)("span",{children:[y," ",k]})]}),Object(_.jsxs)("div",{className:"single-tour__card-el",children:[Object(_.jsx)(L.c,{className:"single-tour__card-el__icon"}),Object(_.jsxs)("span",{children:[h," stops"]})]}),Object(_.jsxs)("div",{className:"single-tour__card-el",children:[Object(_.jsx)(j.e,{className:"single-tour__card-el__icon"}),Object(_.jsxs)("span",{children:[r," people"]})]})]})]}),Object(_.jsxs)("div",{className:"single-tour__card-footer",children:[Object(_.jsxs)("div",{className:"single-tour__footer-data",children:[Object(_.jsxs)("div",{className:"single-tour__footer-data__el",children:[Object(_.jsxs)("span",{className:"single-tour__footer__price",children:["$",b]}),Object(_.jsx)("span",{className:"single-tour__footer-data__el__detail",children:"per person"})]}),Object(_.jsxs)("div",{className:"single-tour__footer-data__el",children:[Object(_.jsx)("span",{className:"single-tour__footer__price",children:n}),Object(_.jsxs)("span",{className:"single-tour__footer-data__el__detail",children:["rating(",c,")"]})]})]}),Object(_.jsx)(d.b,{to:{pathname:"/tour/".concat(v),state:{tourId:t}},className:"single-tour__link ",children:"details"})]}),Object(_.jsxs)("div",{className:"single-tour__buttons",children:[Object(_.jsx)("button",{className:"single-tour__button",onClick:function(){f(!0),N(t)},children:"update"}),Object(_.jsx)("button",{className:"single-tour__button",onClick:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,g("DELETE","/api/v1/tours/".concat(e));case 3:((s=t.sent).status=204)&&(p("success","tour deleted",1.5),setTimeout((function(){document.location.reload()}),1500)),204!==s.status&&p("fail",s.data.message,3);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t),children:"delete"})]})]})}var Y=a(25);a(108);function X(e,t,a,s){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(l.a.mark((function e(t,a,s,n){var c,i,r,o,u,d,j,m,b,h,O,x,_,v,f,N,w,y,k,C,L,S,F,T,D,E,G,A,q,I,U;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=n,console.log(c),i=t.target.name.value,r=t.target.duration.value,o=t.target.maxGroupSize.value,u=t.target.difficulty.value,d=t.target.price.value,j=t.target.summary.value,m=t.target.description.value,b=t.target.startDates_1.value,h=t.target.startDates_3.value,O=t.target.startDates_3.value,x=t.target.imageCover.files[0],_=t.target.img_1.files[0],v=t.target.img_2.files[0],f=t.target.img_3.files[0],N=t.target.description_startLocation.value,w=t.target.address_startLocation.value,y=t.target.lag_startLocation.value,k=t.target.lat_startLocation.value,C=[y,k],(L={}).description=N,L.address=w,L.coordinates=C,S=JSON.stringify(L),F=[],T=0;T<t.target.num.value;T++)D={},document.getElementById("description_location".concat(T+1))&&(D.description=document.getElementById("description_location".concat(T+1)).value),document.getElementById("lag_location".concat(T+1))&&document.getElementById("lat_location".concat(T+1))&&(D.coordinates=[document.getElementById("lag_location".concat(T+1)).value,document.getElementById("lat_location".concat(T+1)).value]),document.getElementById("day_location".concat(T+1))&&(D.day=document.getElementById("day_location".concat(T+1)).value),F.push(D);return E=JSON.stringify(F),(G=new FormData).append("name",i),G.append("duration",r),G.append("price",d),G.append("maxGroupSize",o),G.append("difficulty",u),G.append("summary",j),G.append("description",m),x&&G.append("imageCover",x),G.append("locations",E),G.append("startLocation",S),_&&G.append("images",_),v&&G.append("images",v),f&&G.append("images",f),b&&G.append("startDates",b),h&&G.append("startDates",h),O&&G.append("startDates",O),c&&c.map((function(e){return G.append("guides",e)})),"create"===a&&(A="POST",q="created tour successfully",I="api/v1/tours"),"update"===a&&(A="PATCH",q="updated tour successfully",I="api/v1/tours/".concat(s)),e.next=51,g(A,I,G);case 51:(U=e.sent)&&("success"===U.data.status&&(p("success",q,1.5),setTimeout((function(){document.location.reload()}),1500)),"success"!==U.data.status&&p("fail",U.data.message,5));case 53:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){var e=Object(s.useState)("default-tour.jpg"),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)("default-tour.jpg"),i=Object(u.a)(c,2),r=i[0],d=i[1],j=Object(s.useState)("default-tour.jpg"),m=Object(u.a)(j,2),b=m[0],h=m[1],O=Object(s.useState)("default-tour.jpg"),x=Object(u.a)(O,2),v=x[0],f=x[1],N=Object(s.useState)(0),w=Object(u.a)(N,2),y=w[0],k=w[1],L=Object(s.useState)([]),S=Object(u.a)(L,2),F=S[0],T=S[1],D=Object(s.useState)([]),E=Object(u.a)(D,2),G=E[0],A=E[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/users");case 2:(t=e.sent)&&("success"===t.data.status?T(t.data.data.users):"success"!==t.data.status&&p("fail",t.data.message,3));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);for(var q=[],I=0;I<y;I++)q.push(I);var U=function(e){return function(t){if(t.preventDefault(),t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){"cover"===e&&n(t.target.result),"img_1"===e&&d(t.target.result),"img_2"===e&&h(t.target.result),"img_3"===e&&f(t.target.result)},a.readAsDataURL(t.target.files[0])}}},V=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),X(t,"create",G);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(G);var R=F.filter((function(e){return G.includes(e._id)}));return console.log(R),Object(_.jsxs)("form",{className:"create-tour-container",encType:"multipart/form-data",onSubmit:V,children:[Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"name",children:"name"}),Object(_.jsx)("input",{type:"text",required:!0,name:"name",id:"name",minLength:"5"})]}),Object(_.jsxs)("div",{className:"section-input",children:[Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"duration",children:"duration"}),Object(_.jsx)("input",{type:"number",required:!0,name:"duration",id:"duration",minLength:"1",min:"1"})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"maxGroupSize",children:"max group size"}),Object(_.jsx)("input",{type:"number",required:!0,name:"maxGroupSize",id:"maxGroupSize",minLength:"1",min:"1"})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"difficulty",children:"difficulty"}),Object(_.jsx)("input",{list:"list",required:!0,name:"difficulty",id:"difficulty",minLength:"1",min:"1"}),Object(_.jsxs)("datalist",{id:"list",children:[Object(_.jsx)("option",{value:"easy"}),Object(_.jsx)("option",{value:"medium"}),Object(_.jsx)("option",{value:"difficult"})]})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"price",children:"price"}),Object(_.jsx)("input",{type:"number",required:!0,name:"price",id:"price",minLength:"1",min:"1"})]})]}),Object(_.jsxs)("div",{className:"input-group summary",children:[Object(_.jsx)("label",{htmlFor:"summary",children:"summary"}),Object(_.jsx)("textarea",{name:"summary",id:"summary",required:!0,minLength:"10"})]}),Object(_.jsxs)("div",{className:"input-group description",children:[Object(_.jsx)("label",{htmlFor:"description",minLength:"10",children:"description"}),Object(_.jsx)("textarea",{name:"description",id:"description",rows:"6"})]}),Object(_.jsxs)("div",{className:"input-group guide-input__group ",children:[Object(_.jsx)("label",{htmlFor:"guide",children:"guides"}),Object(_.jsxs)("select",{name:"guide",id:"guide",onChange:function(e){return"no guide"===e.target.value?A([]):A(Array.from(new Set([].concat(Object(Y.a)(G),[e.target.value]))))},className:"guide-input__group__select",children:[Object(_.jsx)("option",{value:"no guide",children:"no guides"}),F.length>=1?F.filter((function(e){return"user"!==e.role&&"admin"!==e.role})).map((function(e,t){return Object(_.jsxs)("option",{value:e._id,children:[e.name.split(" ")[0],"----",e.role]},t)})):Object(_.jsx)("option",{children:"no users"})]}),Object(_.jsx)("div",{className:"guides-info",children:R.map((function(e,t){return Object(_.jsxs)("div",{className:"guide-info",children:[Object(_.jsxs)("div",{className:"guide-info__header",children:[Object(_.jsx)("img",{className:"guide-info__img",src:"/public/img/users/".concat(e.photo),alt:""}),Object(_.jsx)("h3",{children:e.name}),Object(_.jsx)(C.b,{className:"remove-guide",onClick:function(){return A(G.filter((function(t){return t!==e._id})))}})]}),Object(_.jsx)("h4",{children:e.role}),Object(_.jsx)("h5",{children:e.email})]},t)}))})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"startDates",children:"start dates"}),Object(_.jsxs)("div",{className:"start-dates__input",children:[Object(_.jsx)("input",{type:"datetime-local",name:"startDates_1",id:"startDates"}),Object(_.jsx)("input",{type:"datetime-local",name:"startDates_2",id:"startDates"}),Object(_.jsx)("input",{type:"datetime-local",name:"startDates_3",id:"startDates"})]})]}),Object(_.jsxs)("div",{className:"startLocation",children:[Object(_.jsx)("h2",{children:"start location: "}),Object(_.jsxs)("div",{className:"input-group discriptionLocation",children:[Object(_.jsx)("label",{htmlFor:"description",children:"description"}),Object(_.jsx)("input",{type:"text",name:"description_startLocation",id:"description-location",minLength:"1"})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"address",children:"address"}),Object(_.jsx)("input",{type:"text",name:"address_startLocation",id:"address",minLength:"1"})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"coordinates",children:"coordinates"}),Object(_.jsxs)("div",{className:"coordinates__input",children:[Object(_.jsx)("input",{type:"number",name:"lag_startLocation",id:"lag",step:"0.00000000001",placeholder:"longitude"}),Object(_.jsx)("input",{type:"number",name:"lat_startLocation",id:"lat",step:"0.00000000001",placeholder:"latitude"})]})]})]}),Object(_.jsxs)("div",{className:"locations",children:[Object(_.jsxs)("div",{className:"locations__number",children:[Object(_.jsx)("label",{children:"number of locations:"}),Object(_.jsx)("input",{type:"number",name:"num",min:"0",onChange:function(e){return k(e.target.value)}})]}),q.map((function(e,t){return Object(_.jsxs)("div",{className:"locations__location-container",children:[Object(_.jsxs)("h2",{children:["location ",t+1,": "]}),Object(_.jsxs)("div",{className:"input-group discriptionLocation",children:[Object(_.jsx)("label",{htmlFor:"description",children:"description"}),Object(_.jsx)("input",{type:"text",name:"description_location".concat(t+1),id:"description_location".concat(t+1),minLength:"1"})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"coordinates",children:"coordinates"}),Object(_.jsxs)("div",{className:"coordinates__input",children:[Object(_.jsx)("input",{type:"number",name:"lag_location".concat(t+1),id:"lag_location".concat(t+1),step:"0.00000000001",placeholder:"longitude"}),Object(_.jsx)("input",{type:"number",name:"lat_location".concat(t+1),id:"lat_location".concat(t+1),step:"0.00000000001",placeholder:"latitude"})]})]}),Object(_.jsxs)("div",{className:"input-group day__number",children:[Object(_.jsx)("label",{htmlFor:"day",children:"day"}),Object(_.jsx)("input",{type:"number",name:"day_location".concat(t+1),id:"day_location".concat(t+1),minLength:"1",min:"1"})]})]},t)}))]}),Object(_.jsxs)("div",{className:"input-group__imageCover-container",children:[Object(_.jsx)("img",{src:a,alt:"",className:"img-container__img"}),Object(_.jsx)("label",{htmlFor:"imageCover",className:"input-img photo-btn",children:"Cover Image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"imageCover",name:"imageCover",onChange:U("cover")})]}),Object(_.jsxs)("div",{className:"input-group__images-container",children:[Object(_.jsxs)("div",{className:"images-container__img-container",children:[Object(_.jsx)("img",{src:r,alt:"",className:"img-container__img_1"}),Object(_.jsx)("label",{htmlFor:"img_1",className:"input-img photo-btn",children:"first image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"img_1",name:"img_1",onChange:U("img_1")})]}),Object(_.jsxs)("div",{className:"images-container__img-container",children:[Object(_.jsx)("img",{src:b,alt:"",className:"img-container__img_2"}),Object(_.jsx)("label",{htmlFor:"img_2",className:"input-img photo-btn",children:"socend image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"img_2",name:"img_2",onChange:U("img_2")})]}),Object(_.jsxs)("div",{className:"images-container__img-container",children:[Object(_.jsx)("img",{src:v,alt:"",className:"img-container__img_3"}),Object(_.jsx)("label",{htmlFor:"img_3",className:"input-img photo-btn",children:"third image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"img_3",name:"img_3",onChange:U("img_3")})]})]}),Object(_.jsx)("button",{className:"create-tour__btn",children:"create tour"})]})}function ee(e){var t=e.id,a=Object(s.useContext)(v).allTours.find((function(e){return e._id===t})),n=Object(s.useState)(a.locations.length),c=Object(u.a)(n,2),i=c[0],r=c[1],d=Object(s.useState)([]),j=Object(u.a)(d,2),m=j[0],b=j[1],h=Object(s.useState)(a.guides.map((function(e){return e._id}))),O=Object(u.a)(h,2),x=O[0],f=O[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/users");case 2:(t=e.sent)&&("success"===t.data.status?b(t.data.data.users):"success"!==t.data.status&&p("fail",t.data.message,3));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);for(var N=[],w=0;w<i;w++)N.push(w);var y=Object(s.useState)("/public/img/tours/".concat(a.imageCover)),k=Object(u.a)(y,2),L=k[0],S=k[1],F=Object(s.useState)("/public/img/tours/".concat(a.images[0])),T=Object(u.a)(F,2),D=T[0],E=T[1],G=Object(s.useState)("/public/img/tours/".concat(a.images[1])),A=Object(u.a)(G,2),q=A[0],I=A[1],U=Object(s.useState)("/public/img/tours/".concat(a.images[2])),V=Object(u.a)(U,2),R=V[0],z=V[1],B=function(e){return function(t){if(t.preventDefault(),t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){"cover"===e&&S(t.target.result),"img_1"===e&&E(t.target.result),"img_2"===e&&I(t.target.result),"img_3"===e&&z(t.target.result)},a.readAsDataURL(t.target.files[0])}}},P=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),X(t,"update",a._id,x);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=m.filter((function(e){return x.includes(e._id)}));return Object(_.jsxs)("form",{className:"create-tour-container",encType:"multipart/form-data",onSubmit:P,children:[Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"name",children:"name"}),Object(_.jsx)("input",{type:"text",required:!0,name:"name",id:"name",defaultValue:a.name,minLength:"5"})]}),Object(_.jsxs)("div",{className:"section-input",children:[Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"duration",children:"duration"}),Object(_.jsx)("input",{type:"number",required:!0,name:"duration",id:"duration",minLength:"1",min:"1",defaultValue:a.duration})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"maxGroupSize",children:"max group size"}),Object(_.jsx)("input",{type:"number",required:!0,name:"maxGroupSize",id:"maxGroupSize",minLength:"1",min:"1",defaultValue:a.maxGroupSize})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"difficulty",children:"difficulty"}),Object(_.jsx)("input",{list:"list",required:!0,name:"difficulty",id:"difficulty",minLength:"1",min:"1",defaultValue:a.difficulty}),Object(_.jsxs)("datalist",{id:"list",children:[Object(_.jsx)("option",{value:"easy"}),Object(_.jsx)("option",{value:"medium"}),Object(_.jsx)("option",{value:"difficult"})]})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"price",children:"price"}),Object(_.jsx)("input",{type:"number",required:!0,name:"price",id:"price",minLength:"1",min:"1",defaultValue:a.price})]})]}),Object(_.jsxs)("div",{className:"input-group summary",children:[Object(_.jsx)("label",{htmlFor:"summary",children:"summary"}),Object(_.jsx)("textarea",{name:"summary",id:"summary",required:!0,minLength:"10",defaultValue:a.summary})]}),Object(_.jsxs)("div",{className:"input-group description",children:[Object(_.jsx)("label",{htmlFor:"description",minLength:"10",children:"description"}),Object(_.jsx)("textarea",{name:"description",id:"description",rows:"6",defaultValue:a.description})]}),Object(_.jsxs)("div",{className:"input-group guide-input__group ",children:[Object(_.jsx)("label",{htmlFor:"guide",children:"guides"}),Object(_.jsxs)("select",{name:"guide",id:"guide",onChange:function(e){return"no guide"===e.target.value?f([]):f(Array.from(new Set([].concat(Object(Y.a)(x),[e.target.value]))))},className:"guide-input__group__select",children:[Object(_.jsx)("option",{value:"no guide",children:"no guides"}),m.length>=1?m.filter((function(e){return"user"!==e.role&&"admin"!==e.role})).map((function(e,t){return Object(_.jsxs)("option",{value:e._id,children:[e.name.split(" ")[0],"----",e.role]},t)})):Object(_.jsx)("option",{children:"no users"})]}),Object(_.jsx)("div",{className:"guides-info",children:M.map((function(e,t){return Object(_.jsxs)("div",{className:"guide-info",children:[Object(_.jsxs)("div",{className:"guide-info__header",children:[Object(_.jsx)("img",{className:"guide-info__img",src:"/public/img/users/".concat(e.photo),alt:""}),Object(_.jsx)("h3",{children:e.name}),Object(_.jsx)(C.b,{className:"remove-guide",onClick:function(){return f(x.filter((function(t){return t!==e._id})))}})]}),Object(_.jsx)("h4",{children:e.role}),Object(_.jsx)("h5",{children:e.email})]},t)}))})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"startDates",children:"start dates"}),Object(_.jsxs)("div",{className:"start-dates__input",children:[Object(_.jsx)("input",{type:"datetime-local",name:"startDates_1",id:"startDates"}),Object(_.jsx)("input",{type:"datetime-local",name:"startDates_2",id:"startDates"}),Object(_.jsx)("input",{type:"datetime-local",name:"startDates_3",id:"startDates"})]})]}),Object(_.jsxs)("div",{className:"startLocation",children:[Object(_.jsx)("h2",{children:"start location: "}),Object(_.jsxs)("div",{className:"input-group discriptionLocation",children:[Object(_.jsx)("label",{htmlFor:"description",children:"description"}),Object(_.jsx)("input",{type:"text",name:"description_startLocation",id:"description-location",minLength:"1",defaultValue:a.startLocation.description})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"address",children:"address"}),Object(_.jsx)("input",{type:"text",name:"address_startLocation",id:"address",minLength:"1",defaultValue:a.startLocation.address})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"coordinates",children:"coordinates"}),Object(_.jsxs)("div",{className:"coordinates__input",children:[Object(_.jsx)("input",{type:"number",name:"lag_startLocation",id:"lag",step:"0.00000000001",placeholder:"longitude",defaultValue:a.startLocation.coordinates[0]}),Object(_.jsx)("input",{type:"number",name:"lat_startLocation",id:"lat",step:"0.00000000001",placeholder:"latitude",defaultValue:a.startLocation.coordinates[1]})]})]})]}),Object(_.jsxs)("div",{className:"locations",children:[Object(_.jsxs)("div",{className:"locations__number",children:[Object(_.jsx)("label",{children:"number of locations:"}),Object(_.jsx)("input",{type:"number",name:"num",defaultValue:i,onChange:function(e){return r(e.target.value)}})]}),N.map((function(e,t){return Object(_.jsxs)("div",{className:"locations__location-container",children:[Object(_.jsxs)("h2",{children:["location ",t+1,": "]}),Object(_.jsxs)("div",{className:"input-group discriptionLocation",children:[Object(_.jsx)("label",{htmlFor:"description",children:"description"}),Object(_.jsx)("input",{type:"text",name:"description_location".concat(t+1),id:"description_location".concat(t+1),minLength:"1",defaultValue:a.locations[t]?a.locations[t].description:""})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{htmlFor:"coordinates",children:"coordinates"}),Object(_.jsxs)("div",{className:"coordinates__input",children:[Object(_.jsx)("input",{type:"number",name:"lag_location".concat(t+1),id:"lag_location".concat(t+1),step:"0.00000000001",placeholder:"longitude",defaultValue:a.locations[t]?a.locations[t].coordinates[0]:""}),Object(_.jsx)("input",{type:"number",name:"lat_location".concat(t+1),id:"lat_location".concat(t+1),step:"0.00000000001",placeholder:"latitude",defaultValue:a.locations[t]?a.locations[t].coordinates[1]:""})]})]}),Object(_.jsxs)("div",{className:"input-group day__number",children:[Object(_.jsx)("label",{htmlFor:"day",children:"day"}),Object(_.jsx)("input",{type:"number",name:"day_location".concat(t+1),id:"day_location".concat(t+1),minLength:"1",min:"1",defaultValue:a.locations[t]?a.locations[t].day:""})]})]},t)}))]}),Object(_.jsxs)("div",{className:"input-group__imageCover-container",children:[Object(_.jsx)("img",{src:L||"default-tour.jpg",alt:"",className:"img-container__img"}),Object(_.jsx)("label",{htmlFor:"imageCover",className:"input-img photo-btn",children:"new Cover Image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"imageCover",name:"imageCover",onChange:B("cover")})]}),Object(_.jsxs)("div",{className:"input-group__images-container",children:[Object(_.jsxs)("div",{className:"images-container__img-container",children:[Object(_.jsx)("img",{src:D||"default-tour.jpg",alt:"",className:"img-container__img_1"}),Object(_.jsx)("label",{htmlFor:"img_1",className:"input-img photo-btn",children:"choose new image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"img_1",name:"img_1",onChange:B("img_1")})]}),Object(_.jsxs)("div",{className:"images-container__img-container",children:[Object(_.jsx)("img",{src:q||"default-tour.jpg",alt:"",className:"img-container__img_2"}),Object(_.jsx)("label",{htmlFor:"img_2",className:"input-img photo-btn",children:"choose new image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"img_2",name:"img_2",onChange:B("img_2")})]}),Object(_.jsxs)("div",{className:"images-container__img-container",children:[Object(_.jsx)("img",{src:R||"default-tour.jpg",alt:"",className:"img-container__img_3"}),Object(_.jsx)("label",{htmlFor:"img_3",className:"input-img photo-btn",children:"choose new image"}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"img_3",name:"img_3",onChange:B("img_3")})]})]}),Object(_.jsx)("button",{className:"create-tour__btn",children:"update tour"})]})}function te(){var e=Object(s.useContext)(v).allTours,t=Object(s.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(!1),r=Object(u.a)(i,2),l=r[0],o=r[1],m=Object(s.useState)(),b=Object(u.a)(m,2),p=b[0],h=b[1];return Object(_.jsxs)("div",{className:"manage-tours",children:[n||l?Object(_.jsx)(d.b,{to:"#",title:"back to tours",onClick:function(){c(!1),o(!1)},children:Object(_.jsx)(j.c,{className:"add-icon"})}):Object(_.jsx)(d.b,{to:"#",title:"add new tour",onClick:function(){return c(!0)},children:Object(_.jsx)(j.a,{className:"add-icon"})}),n?Object(_.jsx)($,{}):l?Object(_.jsx)(ee,{id:p}):Object(_.jsx)("div",{className:"tours-container",children:e.map((function(e,t){return Object(_.jsx)(Z,{id:e.id,imageCover:e.imageCover,name:e.name,ratingsAverage:e.ratingsAverage,ratingsQuantity:e.ratingsQuantity,duration:e.duration,maxGroupSize:e.maxGroupSize,difficulty:e.difficulty,summary:e.summary,price:e.price,stops:e.locations.length,startLocation:e.startLocation.description,startDate:e.startDates[0],slug:e.slug,setUpdateTour:o,setId:h},t)}))})]})}a(109);function ae(){var e=Object(s.useContext)(v).currentUser,t=Object(s.useState)(),a=Object(u.a)(t,2),n=a[0],c=a[1];Object(s.useEffect)((function(){e&&("admin"===e.role&&function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/users");case 2:t=e.sent,c(t.data.data.users);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()());return function(){c("")}}),[e]);var i=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("DELETE","/api/v1/users/".concat(t));case 2:((a=e.sent).status=204)&&(p("success","user deleted",1.5),c(n.filter((function(e){return e._id!==t})))),204!==a.status&&p("fail",a.data.message,3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?n.length>=1?Object(_.jsx)("div",{className:"users-container",children:n.map((function(e,t){return Object(_.jsxs)("div",{className:"users-container___user",children:[Object(_.jsxs)("div",{className:"user-container__user__header",children:[Object(_.jsx)("img",{className:"signup__photo",src:"/public/img/users/".concat(e.photo),alt:e.name.split(" ")[0]}),Object(_.jsx)("h2",{children:e.name})]}),Object(_.jsxs)("div",{className:"user-container__user__email",children:[Object(_.jsx)("label",{children:"email"}),Object(_.jsx)("input",{value:e.email,readOnly:!0})]}),Object(_.jsxs)("div",{className:"user-container__user__role",children:[Object(_.jsx)("label",{children:"role"}),Object(_.jsx)("input",{value:e.role||"",readOnly:!0})]}),Object(_.jsxs)("form",{className:"update-user__form",onSubmit:(a=e._id,function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g("PATCH","/api/v1/users/".concat(a),{role:t.target.role.value});case 3:(s=e.sent)&&("success"===s.data.status&&p("success","user updated",1.5),"success"!==s.data.status&&p("fail",s.data.message,3));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[Object(_.jsxs)("label",{children:["make ",e.name.split(" ")[0]]}),Object(_.jsxs)("div",{className:"update-role__radio-group",children:[Object(_.jsx)("input",{type:"radio",value:"user",name:"role",required:!0}),Object(_.jsx)("label",{children:"normal user"})]}),Object(_.jsxs)("div",{className:"update-role__radio-group",children:[Object(_.jsx)("input",{type:"radio",value:"guide",name:"role"}),Object(_.jsx)("label",{children:"guide"})]}),Object(_.jsxs)("div",{className:"update-role__radio-group",children:[Object(_.jsx)("input",{type:"radio",value:"lead-guide",name:"role"}),Object(_.jsx)("label",{children:"lead-guide"})]}),Object(_.jsxs)("div",{className:"update-role__radio-group",children:[Object(_.jsx)("input",{type:"radio",value:"admin",name:"role"}),Object(_.jsx)("label",{children:"admin"})]}),Object(_.jsxs)("div",{className:"manage-users__btns",children:[Object(_.jsx)("button",{className:"update-user__btn",children:"update"}),Object(_.jsx)("button",{className:"delete-user__btn",onClick:function(){return i(e._id)},children:"delete"})]})]})]},t);var a}))}):n.length<1?Object(_.jsx)("h1",{children:"you do not have users yet"}):void 0:Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("div",{className:"loading"})})}a(110);function se(){var e=Object(s.useContext)(v).allTours,t=Object(s.useState)(),a=Object(u.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)([]),r=Object(u.a)(i,2),d=r[0],j=r[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/reviews");case 2:(t=e.sent)&&("success"===t.data.status&&(c(t.data.data.reviews),j(t.data.data.reviews)),"success"!==t.data.status&&p("fail",t.data.message,3));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("DELETE","/api/v1/reviews/".concat(t));case 2:((a=e.sent).status=204)&&(p("success","review deleted",1.5),j(d.filter((function(e){return e._id!==t})))),204!==a.status&&p("fail",a.data.message,3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(_.jsxs)("div",{className:"manage-reviews",children:[Object(_.jsxs)("select",{name:"reviews",id:"reviews",onChange:function(e){if("allReviews"===e.target.value)j(n);else{var t=e.target.value;j(n.filter((function(e){return e.tour._id===t})))}},className:"manage-reviews__select",children:[Object(_.jsxs)("option",{value:"allReviews",children:["all reviews (",n.length,") "]}),e.map((function(e,t){return Object(_.jsxs)("option",{value:e._id,children:[e.name," tour"]},t)}))]}),Object(_.jsx)("div",{className:"manage-reviews__container",children:d.length>=1?d.map((function(e,t){return Object(_.jsxs)("div",{className:"my-reviews__review-container manage-reviews__review-container ",children:[Object(_.jsxs)("div",{className:"review-user",children:[Object(_.jsx)("img",{className:"review-user__img",src:"/public/img/users/".concat(e.user.photo),alt:""}),Object(_.jsx)("h1",{children:e.user.name.split(" ")[0]})]}),Object(_.jsxs)("h1",{children:[e.tour.name," tour"]}),Object(_.jsx)("h5",{children:e.createdAt.split("T")[0]}),Object(_.jsx)("textarea",{name:"review",id:"review",rows:"6",defaultValue:e.review,readOnly:!0}),Object(_.jsx)("div",{className:"review-star",children:[1,2,3,4,5].map((function(t,a){return Object(_.jsx)(D.a,{className:e.rating>=t?"active star":"inactive star"},a)}))}),Object(_.jsx)("button",{onClick:function(){return m(e._id)},children:"delete"})]},t)})):Object(_.jsx)("h1",{children:"no reviews"})})]}):Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("div",{className:"loading"})})}a(111);function ne(){var e=Object(s.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("GET","/api/v1/bookings");case 2:(t=e.sent)&&"success"===t.data.status&&n(t.data.data.bookings);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(a),a?a.length>=1?Object(_.jsx)("div",{className:"bookings-table",children:Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:"table__el",children:"tour"}),Object(_.jsx)("th",{className:"table__el",children:"user name"}),Object(_.jsx)("th",{className:"table__el",children:"user email"}),Object(_.jsx)("th",{className:"table__el",children:"price"}),Object(_.jsx)("th",{className:"table__el",children:"paid"}),Object(_.jsx)("th",{className:"table__el",children:"time"})]})}),a.map((function(e,t){return Object(_.jsx)("tbody",{children:Object(_.jsxs)("tr",{children:[Object(_.jsxs)("td",{className:"table__el",children:[e.tour.name," tour"]}),Object(_.jsx)("td",{className:"table__el",children:e.user.name.split(" ")[0]}),Object(_.jsx)("td",{className:"table__el",children:e.user.email}),Object(_.jsx)("td",{className:"table__el",children:e.price}),Object(_.jsx)("td",{className:"table__el",children:e.paid?"true":"false"}),Object(_.jsx)("td",{className:"table__el",children:e.createdAt.split("T")[0]})]})},t)}))]})}):a.length<1?Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("h1",{children:"No Bookings"})}):void 0:Object(_.jsx)("div",{className:"my-reviews",children:Object(_.jsx)("div",{className:"loading"})})}function ce(){var e=Object(s.useContext)(v).currentUser,t=Object(s.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(Object(_.jsx)(J,{})),r=Object(u.a)(i,2),l=r[0],o=r[1],j=Object(s.useState)("settings"),m=Object(u.a)(j,2),b=m[0],p=m[1],h=function(){window.scrollTo({top:0,behavior:"auto"})};return e?(document.title="Natours | ".concat(e.name," "),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("section",{className:"me-container",children:[Object(_.jsx)(M.a,{className:n?"apps-icon hide-apps-icon":"apps-icon show-apps-icon",onClick:function(){return c(!0)}}),Object(_.jsxs)("div",{className:n?"side-nav show-side-nav":"side-nav hide-side-nav",children:[Object(_.jsx)(C.b,{className:n?"x show-x":"x hide-x",onClick:function(){return c(!1)}}),Object(_.jsxs)(d.b,{to:"#",className:"settings"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(J,{})),p("settings"),h()},children:[Object(_.jsx)(L.f,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"settings"})]}),Object(_.jsxs)(d.b,{to:"#",className:"MyBookings"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(Q,{})),p("MyBookings"),h()},children:[Object(_.jsx)(L.a,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"my bookings"})]}),Object(_.jsxs)(d.b,{to:"#",className:"MyReviews"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(H,{})),p("MyReviews"),h()},children:[Object(_.jsx)(D.a,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"my reviews"})]}),Object(_.jsxs)(d.b,{to:"#",className:"MyBilling"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(W,{})),p("MyBilling"),h()},children:[Object(_.jsx)(L.b,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"billing"})]}),"admin"===e.role?Object(_.jsxs)("div",{className:"admin-links",children:[Object(_.jsx)("div",{className:"admin-links__header",children:Object(_.jsx)("h3",{children:"admin"})}),Object(_.jsxs)(d.b,{to:"#",className:"manageTours"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(te,{})),p("manageTours"),h()},children:[Object(_.jsx)(L.d,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"manage tours"})]})," ",Object(_.jsxs)(d.b,{to:"#",className:"manageUsers"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(ae,{})),p("manageUsers"),h()},children:[Object(_.jsx)(L.g,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"manage users"})]}),Object(_.jsxs)(d.b,{to:"#",className:"manageReviews"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(se,{})),p("manageReviews"),h()},children:[Object(_.jsx)(D.a,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"manage reviews"})]}),Object(_.jsxs)(d.b,{to:"#",className:"manageBookings"===b?"side-nav__el active":"side-nav__el",onClick:function(){c(!1),o(Object(_.jsx)(ne,{})),p("manageBookings"),h()},children:[Object(_.jsx)(L.a,{className:"side-nav__el__icon"}),Object(_.jsx)("span",{children:"manage bookings"})]})]}):""]}),Object(_.jsx)("div",{className:n?"component hide-me-settings":"component show-me-settings",children:l})]})})):null}var ie=function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(y,{}),Object(_.jsxs)(k.c,{children:[Object(_.jsx)(k.a,{exact:!0,path:"/",children:Object(_.jsx)(T,{})}),Object(_.jsx)(k.a,{path:"/tour/:slug",children:Object(_.jsx)(R,{})}),Object(_.jsx)(k.a,{path:"/login",children:Object(_.jsx)(z,{})}),Object(_.jsx)(k.a,{path:"/signup",children:Object(_.jsx)(B,{})}),Object(_.jsx)(k.a,{path:"/myaccount",children:Object(_.jsx)(ce,{})}),Object(_.jsx)(k.a,{path:"*",children:Object(_.jsx)(P,{})})]})]})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,113)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(w,{children:Object(_.jsx)(d.a,{children:Object(_.jsx)(ie,{})})})}),document.getElementById("root")),re()},47:function(e,t,a){},58:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.44c82041.chunk.js.map