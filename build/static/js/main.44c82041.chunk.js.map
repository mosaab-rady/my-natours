{"version":3,"sources":["js/alert.js","js/axios.js","Context.js","component/NavBar.js","js/date.js","component/SingleTour.js","component/AllTours.js","component/Map.js","js/stripe.js","component/TourDetails.js","component/LogIn.js","component/SignUp.js","component/Error.js","component/my-account-page/MySettings.js","component/my-account-page/MyBookings.js","component/my-account-page/MyReviews.js","component/my-account-page/MyBilling.js","component/my-account-page/admin-component/ManageTour.js","js/createTour.js","component/my-account-page/admin-component/CreateTour.js","component/my-account-page/admin-component/UpdateTour.js","component/my-account-page/admin-component/ManageTours.js","component/my-account-page/admin-component/ManageUsers.js","component/my-account-page/admin-component/ManageReviews.js","component/my-account-page/admin-component/ManageBookings.js","component/my-account-page/MyAccount.js","App.js","reportWebVitals.js","index.js"],"names":["hideAlert","el","document","querySelector","parentElement","removeChild","showAlert","type","msg","time","markup","insertAdjacentHTML","window","setTimeout","request","method","url","data","a","axios","withCredentials","validateStatus","status","response","myContext","React","createContext","reducer","state","action","currentUser","payload","allTours","initialState","Context","children","useReducer","dispatch","useEffect","cookie","split","some","item","trim","startsWith","user","getMe","tours","message","getTours","Provider","value","NavBar","useContext","useState","toggle","setToggle","logout","location","href","className","to","onClick","src","alt","id","photo","name","getMonthYear","date","newDate","Date","monthNumber","getMonth","year","getUTCFullYear","month","SingleTour","imageCover","ratingsAverage","ratingsQuantity","duration","maxGroupSize","difficulty","summary","price","stops","startLocation","startDate","slug","pathname","tourId","AllTours","title","map","tour","i","locations","length","description","startDates","Map","mapboxgl","workerClass","MapboxWorker","accessToken","mapContainer","useRef","container","current","style","scrollZoom","bounds","LngLatBounds","forEach","loc","Marker","color","setLngLat","coordinates","addTo","Popup","offset","setHTML","day","extend","fitBounds","padding","top","bottom","left","right","remove","ref","stripePromise","loadStripe","bookTour","stripe","redirectToCheckout","sessionId","session","result","console","log","TourDetails","useParams","reviews","setReviews","hideAddreview","setHideAddReview","setMap","find","getReviews","handleAddReview","e","preventDefault","body","review","target","rating","_id","reload","guides","guide","role","images","img","onSubmit","htmlFor","required","min","max","defaultValue","userImg","star","LogIn","err","handleSubmit","email","password","placeholder","minLength","SignUp","userImage","setUserImage","form","FormData","append","passwordConfirm","files","encType","accept","onChange","reader","FileReader","onload","readAsDataURL","Error","Settings","handleUpdateSettings","handleUpdatePassword","currentPassword","MyBookings","setTours","getMyBookings","MyReviews","setResponse","getMyReviews","deleteReview","results","createdAt","rows","step","MyBilling","ManageTour","setUpdateTour","setId","deleteTour","createUpdateTour","tourGuides","startDates_1","startDates_2","startDates_3","img_1","img_2","img_3","description_startLocation","address_startLocation","lag_startLocation","lat_startLocation","coordinatesStartLocation","address","stringStartLocation","JSON","stringify","num","getElementById","push","stringLocations","tourGuide","CreateTour","setImageCover","setImg_1","setImg_2","setImg_3","setNum","users","setUsers","setGuides","getUsers","handlePhoto","userGuides","filter","includes","list","Array","from","Set","UpdateTour","ManageTours","createTour","setCreateTour","updateTour","ManageUsers","deleteUser","readOnly","ManageReviews","filterReviews","setFilterReviews","getAllReviews","handleDeleteReview","ManageBookings","bookings","setBookings","getAllBookings","booking","paid","MyAccount","component","setComponent","active","setActive","scrollToTop","scrollTo","behavior","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.44c82041.chunk.js","sourcesContent":["export const hideAlert = () => {\r\n  const el = document.querySelector('.notifacation');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\nexport const showAlert = (type, msg, time = 7) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"notifacation ${type}\"><p>${msg}</p></div>`;\r\n  document.querySelector('.App').insertAdjacentHTML('afterbegin', markup);\r\n  window.setTimeout(hideAlert, time * 1000);\r\n};\r\n","import axios from 'axios';\r\n\r\nexport async function request(method, url, data) {\r\n  // axios.defaults.baseURL = 'http://localhost:5000';\r\n  const response = await axios({\r\n    withCredentials: true,\r\n    validateStatus: function (status) {\r\n      return status >= 200 && status <= 500;\r\n    },\r\n    method,\r\n    url,\r\n    data,\r\n  });\r\n  return response;\r\n}\r\n","import React, { useEffect, useReducer } from 'react';\r\nimport { showAlert } from './js/alert';\r\nimport { request } from './js/axios';\r\n\r\nexport const myContext = React.createContext(null);\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === 'LOGGED_IN') {\r\n    return { ...state, currentUser: action.payload };\r\n  }\r\n  if (action.type === 'LOG_OUT') {\r\n    return { ...state, currentUser: null };\r\n  }\r\n  if (action.type === 'ALL_TOURS') {\r\n    return { ...state, allTours: action.payload };\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  currentUser: null,\r\n  allTours: [],\r\n};\r\n\r\nexport default function Context({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      document.cookie\r\n        .split(';')\r\n        .some((item) => item.trim().startsWith('jwt_server=')) &&\r\n      !state.currentUser\r\n    ) {\r\n      const getMe = async () => {\r\n        const response = await request(\r\n          'GET',\r\n          'http://localhost:5000/api/v1/users/me'\r\n        );\r\n        if (response)\r\n          if (response.data.status === 'success')\r\n            dispatch({ type: 'LOGGED_IN', payload: response.data.data.user });\r\n      };\r\n      getMe();\r\n    }\r\n\r\n    const method = 'GET';\r\n    const url = '/api/v1/tours';\r\n    const getTours = async () => {\r\n      const response = await request(method, url);\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          dispatch({ type: 'ALL_TOURS', payload: response.data.data.tours });\r\n        }\r\n        if (response.data.status !== 'success') {\r\n          showAlert(response.data.status, response.data.message, 5);\r\n        }\r\n      }\r\n    };\r\n    getTours();\r\n  }, [state.currentUser]);\r\n\r\n  return (\r\n    <myContext.Provider value={{ ...state, dispatch }}>\r\n      {children}\r\n    </myContext.Provider>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { BiAlignRight } from 'react-icons/bi';\r\nimport { myContext } from '../Context';\r\nimport { request } from '../js/axios';\r\nimport { showAlert } from '../js/alert';\r\n\r\nconst NavBar = () => {\r\n  const { currentUser } = useContext(myContext);\r\n  const [toggle, setToggle] = useState(false);\r\n\r\n  const logout = async () => {\r\n    await request('GET', `/api/v1/users/logOut`);\r\n    showAlert('fail', 'logged out', 3);\r\n    setTimeout(() => (window.location.href = '/'), 3000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='nav_container'>\r\n        <Link\r\n          to='/'\r\n          className='nav_link btn_all_tours'\r\n          onClick={() => setToggle(false)}\r\n        >\r\n          all tours\r\n        </Link>\r\n        <img src={`/public/img/logo/logo-white.png`} alt='logo' id='logo_img' />\r\n        <BiAlignRight id='nav_icon' onClick={() => setToggle(!toggle)} />\r\n        {currentUser ? (\r\n          <ul\r\n            className={\r\n              toggle ? 'show_nav_links nav_links' : 'hide_nav_links nav_links'\r\n            }\r\n          >\r\n            <li className='nav_el'>\r\n              <Link\r\n                to='/myaccount'\r\n                className='nav_link me-btn'\r\n                onClick={() => setToggle(!toggle)}\r\n              >\r\n                <img\r\n                  className='nav-el__user-img'\r\n                  src={`/public/img/users/${currentUser.photo}`}\r\n                  alt={`user ${currentUser.name}`}\r\n                />\r\n                <span>{currentUser.name.split(' ')[0]}</span>\r\n              </Link>\r\n            </li>\r\n            <li className='nav_el'>\r\n              <Link\r\n                to='#'\r\n                className='nav_link btn_logout'\r\n                onClick={() => {\r\n                  setToggle(!toggle);\r\n                  logout();\r\n                }}\r\n              >\r\n                log out\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        ) : (\r\n          <ul\r\n            className={\r\n              toggle ? 'show_nav_links nav_links' : 'hide_nav_links nav_links'\r\n            }\r\n          >\r\n            <li className='nav_el'>\r\n              <Link\r\n                to='/login'\r\n                className='nav_link btn_login'\r\n                onClick={() => setToggle(!toggle)}\r\n              >\r\n                log in\r\n              </Link>\r\n            </li>\r\n            <li className='nav_el'>\r\n              <Link\r\n                to='/signup'\r\n                className='nav_link btn_signup'\r\n                onClick={() => setToggle(!toggle)}\r\n              >\r\n                sign up\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","export function getMonthYear(date) {\r\n  const newDate = new Date(date);\r\n  const monthNumber = newDate.getMonth();\r\n  const year = newDate.getUTCFullYear();\r\n  const monthNames = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December',\r\n  ];\r\n  const month = monthNames[monthNumber];\r\n  return { month, year };\r\n}\r\n","import React from 'react';\r\nimport { BiUser } from 'react-icons/bi';\r\nimport { AiOutlineCalendar } from 'react-icons/ai';\r\nimport { FiFlag, FiMapPin } from 'react-icons/fi';\r\nimport { Link } from 'react-router-dom';\r\nimport { getMonthYear } from '../js/date';\r\n// import TourDetails from './TourDetails';\r\n// import axios from 'axios';\r\n\r\nexport default function SingleTour({\r\n  id,\r\n  imageCover,\r\n  name,\r\n  ratingsAverage,\r\n  ratingsQuantity,\r\n  duration,\r\n  maxGroupSize,\r\n  difficulty,\r\n  summary,\r\n  price,\r\n  stops,\r\n  startLocation,\r\n  startDate,\r\n  slug,\r\n}) {\r\n  // to get the month name and year\r\n  const { month, year } = getMonthYear(startDate);\r\n\r\n  return (\r\n    <div className='tour_container'>\r\n      {/* display the image cover and name of the tour */}\r\n      <div className='header_container'>\r\n        <div className='img_container'>\r\n          <img\r\n            className='singleTour_img'\r\n            src={`/public/img/tours/${imageCover}`}\r\n            alt={name}\r\n          />\r\n        </div>\r\n        <h3 className='singleTour_name'>\r\n          <span>{name}</span>\r\n        </h3>\r\n      </div>\r\n      {/* for the over view details of the tour */}\r\n      <div className='details_container'>\r\n        <h4>\r\n          {difficulty} {duration}-day tour\r\n        </h4>\r\n        <p>{summary}</p>\r\n        <div className='card_data'>\r\n          <div className='card_el'>\r\n            <FiMapPin className='card_el_img' />\r\n            <span>{startLocation}</span>\r\n          </div>\r\n          <div className='card_el'>\r\n            <AiOutlineCalendar className='card_el_img' />\r\n            <span>\r\n              {month} {year}\r\n            </span>\r\n          </div>\r\n          <div className='card_el'>\r\n            <FiFlag className='card_el_img' />\r\n            <span>{stops} stops</span>\r\n          </div>\r\n          <div className='card_el'>\r\n            <BiUser className='card_el_img' />\r\n            <span>{maxGroupSize} people</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* for the price and booking bottun */}\r\n      <div className='card_footer'>\r\n        <div className='footer_data'>\r\n          <div className='footer_data_el'>\r\n            <span className='footer_price'>${price}</span>\r\n            <span className='footer_data_el_detail'>per person</span>\r\n          </div>\r\n          <div className='footer_data_el'>\r\n            <span className='footer_price'>{ratingsAverage}</span>\r\n            <span className='footer_data_el_detail'>\r\n              rating({ratingsQuantity})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <Link\r\n          to={{ pathname: `/tour/${slug}`, state: { tourId: id } }}\r\n          className='nav_link details_link'\r\n        >\r\n          details\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { myContext } from '../Context';\r\n\r\nimport SingleTour from './SingleTour';\r\n\r\nfunction AllTours() {\r\n  document.title = 'Natours | All Tours';\r\n  const { allTours } = useContext(myContext);\r\n  let tours = allTours;\r\n\r\n  return (\r\n    <>\r\n      <div className='tours_container'>\r\n        {tours.map((tour, i) => (\r\n          <SingleTour\r\n            key={i}\r\n            id={tour.id}\r\n            imageCover={tour.imageCover}\r\n            name={tour.name}\r\n            ratingsAverage={tour.ratingsAverage}\r\n            ratingsQuantity={tour.ratingsQuantity}\r\n            duration={tour.duration}\r\n            maxGroupSize={tour.maxGroupSize}\r\n            difficulty={tour.difficulty}\r\n            summary={tour.summary}\r\n            price={tour.price}\r\n            stops={tour.locations.length}\r\n            startLocation={tour.startLocation.description}\r\n            startDate={tour.startDates[0]}\r\n            slug={tour.slug}\r\n          />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AllTours;\r\n","/* eslint-disable */\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\r\n\r\nimport MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\r\n\r\nexport default function Map({ locations }) {\r\n  mapboxgl.workerClass = MapboxWorker;\r\n  mapboxgl.accessToken =\r\n    'pk.eyJ1IjoibW9zYWFiLXJhZGkiLCJhIjoiY2tudGNlemRtMDFuZDJva2dqOHZ5eWd3biJ9.UqnuRReOXieyD9K1kVmb9A';\r\n\r\n  const mapContainer = useRef();\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/light-v10',\r\n      scrollZoom: false,\r\n\r\n      // center: [lng, lat],\r\n      // zoom: zoom,\r\n    });\r\n    // Set options\r\n    const bounds = new mapboxgl.LngLatBounds();\r\n    locations.forEach((loc) => {\r\n      // Add marker\r\n      new mapboxgl.Marker({\r\n        color: '#55c57a',\r\n      })\r\n        .setLngLat(loc.coordinates)\r\n        .addTo(map);\r\n\r\n      // Add popup\r\n      new mapboxgl.Popup({\r\n        offset: 60,\r\n      })\r\n        .setLngLat(loc.coordinates)\r\n        .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n        .addTo(map);\r\n\r\n      // Extend map bounds to include current location\r\n      bounds.extend(loc.coordinates);\r\n    });\r\n    map.fitBounds(bounds, {\r\n      padding: {\r\n        top: 250,\r\n        bottom: 250,\r\n        left: 100,\r\n        right: 100,\r\n      },\r\n    });\r\n\r\n    return () => map.remove();\r\n  });\r\n  return (\r\n    <div>\r\n      <div className='map-container' ref={mapContainer} />\r\n    </div>\r\n  );\r\n}\r\n","// import axios from 'axios';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { request } from './axios';\r\nimport { showAlert } from './alert';\r\n\r\nconst stripePromise = loadStripe(\r\n  'pk_test_51IpxicDPN2xmZKI6ZaILPd4gdFWIAAIpQoc6ioMW7YFMp3Dogp7mv7XWgqdA7pGktYCiGpyRBQlu5tTAdGaB8Uv1004pNdT6W4'\r\n);\r\nexport const bookTour = async (tourId) => {\r\n  try {\r\n    const response = await request(\r\n      'GET',\r\n      `/api/v1/bookings/checkout-session/${tourId}`\r\n    );\r\n    if (response) {\r\n      if (response.data.status === 'success') {\r\n        const stripe = await stripePromise;\r\n\r\n        const result = await stripe.redirectToCheckout({\r\n          sessionId: response.data.data.session.id,\r\n        });\r\n        console.log(result);\r\n      }\r\n      if (response.data.status !== 'success') {\r\n        showAlert('fail', response.data.message, 3);\r\n      }\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err, 3);\r\n  }\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { request } from '../js/axios';\r\nimport { AiOutlineCalendar, AiOutlineClose } from 'react-icons/ai';\r\nimport { BiTrendingUp, BiUser } from 'react-icons/bi';\r\nimport { BsStar } from 'react-icons/bs';\r\nimport { getMonthYear } from '../js/date';\r\nimport Map from './Map';\r\n// import { showAlert } from '../js/alert';\r\nimport { myContext } from '../Context';\r\nimport { useParams } from 'react-router';\r\nimport { bookTour } from '../js/stripe';\r\nimport { showAlert } from '../js/alert';\r\n\r\nfunction TourDetails() {\r\n  // const { state } = useLocation();\r\n  // let id;\r\n  // if (state) id = state.tourId;\r\n  const { slug } = useParams();\r\n\r\n  const { currentUser, allTours } = useContext(myContext);\r\n\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const [hideAddreview, setHideAddReview] = useState('hide__add-review');\r\n\r\n  const [map, setMap] = useState('');\r\n\r\n  const tour = allTours.find((tour) => tour.slug === slug);\r\n  // if (!tour) showAlert('fail', 'tour not found', 3);\r\n\r\n  useEffect(() => {\r\n    const getReviews = async () => {\r\n      if (tour) {\r\n        setMap(<Map locations={tour.locations} />);\r\n        const data = await request('GET', `/api/v1/tours/${tour.id}/reviews`);\r\n        if (data.data.status === 'success') {\r\n          setReviews(data.data.data.reviews);\r\n        }\r\n      }\r\n    };\r\n    getReviews();\r\n  }, [tour]);\r\n\r\n  // handle booking\r\n  const handleBookTour = (id) => {\r\n    bookTour(id);\r\n  };\r\n\r\n  // if there is a response\r\n  if (tour) {\r\n    document.title = `Natours | ${tour.name} `;\r\n    const { month, year } = getMonthYear(tour.startDates[0]);\r\n\r\n    const handleAddReview = async (e) => {\r\n      e.preventDefault();\r\n      const body = {};\r\n      body.review = e.target.review.value;\r\n      body.rating = e.target.rating.value;\r\n      const response = await request(\r\n        'POST',\r\n        `/api/v1/reviews/addreview/${tour._id}`,\r\n        body\r\n      );\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          showAlert('success', 'added review', 1.5);\r\n          setTimeout(() => document.location.reload(), 1500);\r\n        }\r\n        if (response.data.status !== 'success') {\r\n          showAlert('fail', response.data.message, 3);\r\n        }\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className='tour_details'>\r\n        <div className='hero_container'>\r\n          <div className='hero_img_container'>\r\n            <img\r\n              className='hero_img'\r\n              src={`/public/img/tours/${tour.imageCover}`}\r\n              alt={tour.name}\r\n            />\r\n          </div>\r\n          <div className='hero_details'>\r\n            <h3 className='hero_name'>\r\n              <span>{tour.name} tour</span>\r\n            </h3>\r\n          </div>\r\n        </div>\r\n        <section className='tour-description-container'>\r\n          <div className='overview-box'>\r\n            <div className='overview-box__group'>\r\n              <h2 className='overview-box__group__heading'>quick facts</h2>\r\n              <div className='overview-box__group__el'>\r\n                <AiOutlineCalendar className='overview-box__group__el__img' />\r\n                <p className='overview-box__group__el__p'>\r\n                  <span>next date</span>\r\n                  {month} {year}\r\n                </p>\r\n              </div>\r\n              <div className='overview-box__group__el'>\r\n                <BiTrendingUp className='overview-box__group__el__img' />\r\n                <p className='overview-box__group__el__p'>\r\n                  <span>difficulty</span>\r\n                  {tour.difficulty}\r\n                </p>\r\n              </div>\r\n              <div className='overview-box__group__el'>\r\n                <BiUser className='overview-box__group__el__img' />\r\n                <p className='overview-box__group__el__p'>\r\n                  <span>participants</span>\r\n                  {tour.maxGroupSize} people\r\n                </p>\r\n              </div>\r\n              <div className='overview-box__group__el'>\r\n                <BsStar className='overview-box__group__el__img' />\r\n                <p className='overview-box__group__el__p'>\r\n                  <span>rating</span>\r\n                  {tour.ratingsAverage} / 5\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className='overview-box__group'>\r\n              <h2 className='overview-box__group__heading'>your tour guides</h2>\r\n              {tour.guides.map((guide, i) => {\r\n                return (\r\n                  <div key={i} className='overview-box__group__el'>\r\n                    <img\r\n                      className='overview-box__group__el__img__user'\r\n                      src={`/public/img/users/${guide.photo}`}\r\n                      alt={guide.name}\r\n                    />\r\n                    <p className='overview-box__group__el__p'>\r\n                      <span>\r\n                        {guide.role === 'lead-guide'\r\n                          ? 'lead guide'\r\n                          : 'tour guide'}\r\n                      </span>\r\n                      {guide.name}\r\n                    </p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className='description-box'>\r\n            <h2 className='overview-box__group__heading'>\r\n              about {tour.name} tour\r\n            </h2>\r\n            <p className='description-box__p'>{tour.description}</p>\r\n          </div>\r\n        </section>\r\n        <section className='tour-details__imgs-container'>\r\n          <div className='tour-details__imgs-container__imgs'>\r\n            {tour.images.map((img, i) => {\r\n              return (\r\n                <img\r\n                  key={i}\r\n                  src={`/public/img/tours/${img}`}\r\n                  alt={img}\r\n                  className='tour-details__imgs-container__img'\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n        <section className='tour-details__map'>{map}</section>\r\n        <section className='tour-details__reviews'>\r\n          <div className='tour-details__reviews-container'>\r\n            <div\r\n              className={\r\n                hideAddreview === 'hide__add-review'\r\n                  ? 'hide__add-review'\r\n                  : 'show__add-review'\r\n              }\r\n            >\r\n              <form className='add-review' onSubmit={handleAddReview}>\r\n                <AiOutlineClose\r\n                  className='colse-add-review'\r\n                  onClick={() => setHideAddReview('hide__add-review')}\r\n                />\r\n                <div className='input-group__review'>\r\n                  <label htmlFor='add-review__review'>review</label>\r\n                  <textarea\r\n                    name='review'\r\n                    id='add-review__rating'\r\n                    required\r\n                  ></textarea>\r\n                </div>\r\n                <div className='input-group__rating'>\r\n                  <label htmlFor='add-review__rating'>rating</label>\r\n                  <input\r\n                    type='number'\r\n                    name='rating'\r\n                    id='add-review__rating'\r\n                    min='1'\r\n                    max='5'\r\n                    defaultValue='1'\r\n                    required\r\n                  />\r\n                </div>\r\n                <button>add review</button>\r\n              </form>\r\n            </div>\r\n            {reviews.map((review, i) => {\r\n              const userImg = review.user.photo;\r\n              return (\r\n                <div key={i} className='review-card'>\r\n                  <div className='review-card__user'>\r\n                    <img\r\n                      className='review-card__user-img'\r\n                      src={`/public/img/users/${userImg}`}\r\n                      alt={review.user.name}\r\n                    />\r\n                    <p>{review.user.name}</p>\r\n                  </div>\r\n                  <div className='review-card__p-1'>\r\n                    <div className='review-card__p-2'>{review.review}</div>\r\n                  </div>\r\n                  <div className='review-card__rating'>\r\n                    {[1, 2, 3, 4, 5].map((star, i) => {\r\n                      return (\r\n                        <BsStar\r\n                          key={i}\r\n                          className={\r\n                            review.rating >= star\r\n                              ? 'active star'\r\n                              : 'inactive star'\r\n                          }\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <button\r\n            className='add-review__btn'\r\n            onClick={() => setHideAddReview('show__add-review')}\r\n          >\r\n            add new review\r\n          </button>\r\n        </section>\r\n        <section className='section-cta'>\r\n          <div className='section-cta__imgs'>\r\n            <div className='section-cta__imgs__logo-container'>\r\n              <img\r\n                className='section-cta__logo'\r\n                src={`/public/img/logo/logo-white.png`}\r\n                alt='logo'\r\n              />\r\n            </div>\r\n            <img\r\n              className='section-cta__img section-cta__img-1'\r\n              src={`/public/img/tours/${tour.images[1]}`}\r\n              alt='tour-img'\r\n            />\r\n            <img\r\n              className='section-cta__img section-cta__img-2'\r\n              src={`/public/img/tours/${tour.images[2]}`}\r\n              alt='tour-img'\r\n            />\r\n          </div>\r\n          <div className='section-cta__q'>\r\n            <h2>what are you waiting for?</h2>\r\n            <p>\r\n              {tour.duration} days. 1 adventure. Infinite memories. Make it\r\n              yours today!\r\n            </p>\r\n          </div>\r\n          {currentUser ? (\r\n            <button\r\n              className='booking-btn'\r\n              onClick={() => handleBookTour(tour._id)}\r\n            >\r\n              book tour now!\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={() => (window.location.href = '/login')}\r\n              className='booking-btn'\r\n            >\r\n              log in to book tour\r\n            </button>\r\n          )}\r\n        </section>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default TourDetails;\r\n","import React, { useContext } from 'react';\r\nimport { myContext } from '../Context';\r\nimport '../css/login.css';\r\nimport { showAlert } from '../js/alert';\r\nimport { request } from '../js/axios';\r\n\r\nfunction LogIn() {\r\n  document.title = `Natours | Log In `;\r\n  const { dispatch } = useContext(myContext);\r\n  let err;\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const response = await request('POST', `/api/v1/users/logIn`, {\r\n      email: e.target.email.value,\r\n      password: e.target.password.value,\r\n    });\r\n    // setResponse(data);\r\n    if (response) {\r\n      if (response.data.status === 'success') {\r\n        dispatch({ type: 'LOGGED_IN', payload: response.data.data.user });\r\n        showAlert(response.data.status, 'Logged In successfully', 1.5);\r\n        setTimeout(() => (window.location.href = '/'), 1500);\r\n      }\r\n      if (response.data.status !== 'success') {\r\n        err = response.data.message;\r\n        showAlert(response.data.status, err, 5);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='login-container'>\r\n        <h1 className='login-container__header'>log into your account</h1>\r\n        <form className='login-form' onSubmit={handleSubmit}>\r\n          <div className='login-form__group'>\r\n            <label htmlFor='email'>email</label>\r\n            <input\r\n              type='email'\r\n              id='email'\r\n              required\r\n              name='email'\r\n              placeholder='you@example.com'\r\n            />\r\n          </div>\r\n          <div className='login-form__group'>\r\n            <label htmlFor='password'>password</label>\r\n            <input\r\n              type='password'\r\n              required\r\n              name='password'\r\n              id='password'\r\n              minLength='8'\r\n              placeholder='••••••••'\r\n            />\r\n          </div>\r\n          <button className='login-btn'>log in</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","import React, { useContext, useState } from 'react';\r\nimport { myContext } from '../Context';\r\nimport '../css/signup.css';\r\nimport { showAlert } from '../js/alert';\r\nimport { request } from '../js/axios';\r\n\r\nfunction SignUp() {\r\n  document.title = `Natours | Sign Up `;\r\n  const [userImage, setUserImage] = useState('default.jpg');\r\n  const { dispatch } = useContext(myContext);\r\n\r\n  // const [response, setResponse] = useState();\r\n  let err;\r\n\r\n  // make the photo appear when the user choose it\r\n  const handlePhoto = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setUserImage(e.target.result);\r\n      };\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  // send post request to signup the new user\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append('name', e.target.name.value);\r\n    form.append('email', e.target.email.value);\r\n    form.append('password', e.target.password.value);\r\n    form.append('passwordConfirm', e.target.passwordConfirm.value);\r\n    form.append('photo', e.target.photo.files[0]);\r\n\r\n    const response = await request('POST', `/api/v1/users/signUp`, form);\r\n    if (response) {\r\n      // if the request success show alert and change the state in the context\r\n      if (response.data.status === 'success') {\r\n        dispatch({ type: 'LOGGED_IN', payload: response.data.data.user });\r\n        showAlert(response.data.status, 'signed up successfully', 1.5);\r\n        setTimeout(() => (window.location.href = '/'), 1500);\r\n      }\r\n      if (response.data.status !== 'success') {\r\n        err = response.data.message;\r\n        showAlert(response.data.status, err, 5);\r\n        // err = response.data.data;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='signup-container'>\r\n        <h1 className='signup-container__header'>create new account</h1>\r\n        <form\r\n          className='signup__form'\r\n          onSubmit={handleSubmit}\r\n          encType='multipart/form-data'\r\n        >\r\n          <div className='form__group'>\r\n            <label htmlFor='name'>name</label>\r\n            <input type='text' required name='name' id='name' minLength='4' />\r\n          </div>\r\n          <div className='form__group'>\r\n            <label htmlFor='email'>email</label>\r\n            <input\r\n              type='email'\r\n              placeholder='you@example.com'\r\n              required\r\n              name='email'\r\n              id='email'\r\n            />\r\n          </div>\r\n          <div className='form__group'>\r\n            <label htmlFor='password'>password</label>\r\n            <input\r\n              type='password'\r\n              placeholder='••••••••'\r\n              required\r\n              minLength='8'\r\n              name='password'\r\n              id='password'\r\n            />\r\n          </div>\r\n          <div className='form__group'>\r\n            <label htmlFor='passwordConfirm'>confirm password</label>\r\n            <input\r\n              type='password'\r\n              placeholder='••••••••'\r\n              minLength='8'\r\n              required\r\n              name='passwordConfirm'\r\n              id='passwordConfirm'\r\n            />\r\n          </div>\r\n          <div className='form__group-img'>\r\n            <img src={userImage} alt='' className='signup__photo' />\r\n            <label htmlFor='photo' className='photo-btn'>\r\n              choose new photo\r\n            </label>\r\n            <input\r\n              type='file'\r\n              accept='image/*'\r\n              id='photo'\r\n              name='photo'\r\n              onChange={handlePhoto}\r\n            />\r\n          </div>\r\n          <button className='signup-btn'>sign up</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\n\r\nconst Error = ({ err }) => {\r\n  return (\r\n    <div className='error_page'>\r\n      <h1>404</h1>\r\n      <h1>{err} </h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React, { useContext, useState } from 'react';\r\nimport '../../css/myaccount.css';\r\nimport { request } from '../../js/axios';\r\nimport { myContext } from '../../Context';\r\nimport { showAlert } from '../../js/alert';\r\n\r\nexport default function Settings() {\r\n  const { dispatch, currentUser } = useContext(myContext);\r\n  const [userImage, setUserImage] = useState();\r\n\r\n  let err;\r\n\r\n  const handlePhoto = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setUserImage(e.target.result);\r\n      };\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleUpdateSettings = async (e) => {\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append('name', e.target.name.value);\r\n    form.append('email', e.target.email.value);\r\n    form.append('photo', e.target.photo.files[0]);\r\n\r\n    const response = await request('PATCH', `/api/v1/users/updateMe`, form);\r\n    if (response) {\r\n      // if the request success show alert and change the state in the context\r\n      if (response.data.status === 'success') {\r\n        dispatch({ type: 'LOGGED_IN', payload: response.data.data.user });\r\n        showAlert(response.data.status, 'updated data successfully', 1.5);\r\n        setTimeout(() => document.location.reload(), 1500);\r\n      }\r\n      if (response.data.status !== 'success') {\r\n        err = response.data.message;\r\n        showAlert(response.data.status, err, 5000);\r\n        // err = response.data.data;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpdatePassword = async (e) => {\r\n    e.preventDefault();\r\n    const form = {};\r\n    form.currentPassword = e.target.currentPassword.value;\r\n    form.password = e.target.password.value;\r\n    form.passwordConfirm = e.target.passwordConfirm.value;\r\n\r\n    const response = await request(\r\n      'PATCH',\r\n      `/api/v1/users/updatePassword`,\r\n      form\r\n    );\r\n    if (response) {\r\n      // if the request success show alert and change the state in the context\r\n      if (response.data.status === 'success') {\r\n        dispatch({ type: 'LOGGED_IN', payload: response.data.data.user });\r\n        showAlert(response.data.status, 'updated data successfully', 1.5);\r\n        setTimeout(() => document.location.reload(), 1500);\r\n      }\r\n      if (response.data.status !== 'success') {\r\n        err = response.data.message;\r\n        showAlert(response.data.status, err, 5000);\r\n        // err = response.data.data;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='me__settings'>\r\n      <div className='me__account'>\r\n        <h2>your account settings</h2>\r\n        <form\r\n          className='me__form-settings'\r\n          onSubmit={handleUpdateSettings}\r\n          encType='multipart/form-data'\r\n        >\r\n          <div className='me__group'>\r\n            <label htmlFor='name'>name</label>\r\n            <input\r\n              type='text'\r\n              required\r\n              name='name'\r\n              id='name'\r\n              minLength='4'\r\n              defaultValue={currentUser.name}\r\n            />\r\n          </div>\r\n          <div className='me__group'>\r\n            <label htmlFor='email'>email</label>\r\n            <input\r\n              type='email'\r\n              required\r\n              name='email'\r\n              id='email'\r\n              defaultValue={currentUser.email}\r\n            />\r\n          </div>\r\n          <div className='me__group-img'>\r\n            <img\r\n              src={\r\n                userImage ? userImage : `/public/img/users/${currentUser.photo}`\r\n              }\r\n              alt={currentUser.name}\r\n              className='signup__photo settings-photo'\r\n            />\r\n            <label htmlFor='photo' className='photo-btn photo-btn__settings'>\r\n              choose new photo\r\n            </label>\r\n            <input\r\n              type='file'\r\n              accept='image/*'\r\n              id='photo'\r\n              name='photo'\r\n              onChange={handlePhoto}\r\n            />\r\n          </div>\r\n          <button className='settings-btn'>save settings</button>\r\n        </form>\r\n      </div>\r\n      <div className='me__password'>\r\n        <h2>password change</h2>\r\n        <form className='me__form-password' onSubmit={handleUpdatePassword}>\r\n          <div className='me__group'>\r\n            <label htmlFor='currentPassword'>current password</label>\r\n            <input\r\n              type='password'\r\n              required\r\n              name='currentPassword'\r\n              id='currentPassword'\r\n              minLength='8'\r\n              placeholder='••••••••'\r\n            />\r\n          </div>\r\n          <div className='me__group'>\r\n            <label htmlFor='password'>new password</label>\r\n            <input\r\n              type='password'\r\n              required\r\n              name='password'\r\n              id='password'\r\n              minLength='8'\r\n              placeholder='••••••••'\r\n            />\r\n          </div>{' '}\r\n          <div className='me__group'>\r\n            <label htmlFor='passwordConfirm'>confirm password</label>\r\n            <input\r\n              type='password'\r\n              required\r\n              name='passwordConfirm'\r\n              id='passwordConfirm'\r\n              minLength='8'\r\n              placeholder='••••••••'\r\n            />\r\n          </div>\r\n          <button className='settings-btn'>save password</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { showAlert } from '../../js/alert';\r\nimport { request } from '../../js/axios';\r\nimport SingleTour from '../SingleTour';\r\nimport '../../css/mybookings.css';\r\n\r\nexport default function MyBookings() {\r\n  const [tours, setTours] = useState();\r\n\r\n  useEffect(() => {\r\n    const getMyBookings = async () => {\r\n      const response = await request('GET', `/api/v1/bookings/mybookings`);\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          setTours(response.data.data.tours);\r\n        }\r\n        if (response.data.status !== 'success') {\r\n          showAlert('fail', response.data.message, 3);\r\n        }\r\n      }\r\n    };\r\n    getMyBookings();\r\n  }, []);\r\n\r\n  if (tours) {\r\n    if (tours.length >= 1) {\r\n      return (\r\n        <div className='tours_container bookings-container '>\r\n          {tours.map((tour, i) => (\r\n            <SingleTour\r\n              key={i}\r\n              id={tour.id}\r\n              imageCover={tour.imageCover}\r\n              name={tour.name}\r\n              ratingsAverage={tour.ratingsAverage}\r\n              ratingsQuantity={tour.ratingsQuantity}\r\n              duration={tour.duration}\r\n              maxGroupSize={tour.maxGroupSize}\r\n              difficulty={tour.difficulty}\r\n              summary={tour.summary}\r\n              price={tour.price}\r\n              stops={tour.locations.length}\r\n              startLocation={tour.startLocation.description}\r\n              startDate={tour.startDates[0]}\r\n              slug={tour.slug}\r\n            />\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n    if (tours.length < 1) {\r\n      return (\r\n        <div className='my-reviews'>\r\n          <h1>you do not have bookings yet</h1>\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    return (\r\n      <div className='my-reviews'>\r\n        <div className='loading'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport '../../css/myreviews.css';\r\nimport { myContext } from '../../Context';\r\nimport { request } from '../../js/axios';\r\nimport { showAlert } from '../../js/alert';\r\nimport { BsStar } from 'react-icons/bs';\r\n\r\nexport default function MyReviews() {\r\n  const { currentUser } = useContext(myContext);\r\n  const [response, setResponse] = useState();\r\n  useEffect(() => {\r\n    const getMyReviews = async () => {\r\n      const data = await request(\r\n        'GET',\r\n        `/api/v1/users/${currentUser._id}/reviews`\r\n      );\r\n      setResponse(data);\r\n    };\r\n    getMyReviews();\r\n  }, [currentUser]);\r\n\r\n  const updateReview = (id) => async (e) => {\r\n    e.preventDefault();\r\n    const response = await request('PATCH', `/api/v1/reviews/${id}`, {\r\n      review: e.target.review.value,\r\n      rating: e.target.rating.value,\r\n    });\r\n    if (response.data.status === 'success') {\r\n      showAlert('success', 'updated data successfully', 1.5);\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 1500);\r\n    }\r\n    if (response.data.status !== 'success') {\r\n      showAlert('fail', response.data.message, 3);\r\n    }\r\n  };\r\n\r\n  const deleteReview = (id) => async (e) => {\r\n    e.preventDefault();\r\n    const response = await request('DELETE', `/api/v1/reviews/${id}`);\r\n    if ((response.status = 204)) {\r\n      showAlert('success', 'review deleted', 1.5);\r\n      setTimeout(() => {\r\n        document.location.reload();\r\n      }, 1500);\r\n    }\r\n    if (response.status !== 204) {\r\n      showAlert('fail', response.data.message, 3);\r\n    }\r\n  };\r\n\r\n  if (response) {\r\n    if (response.data.status === 'success' && response.data.data.results >= 1) {\r\n      const reviews = response.data.data.reviews;\r\n      return (\r\n        <div className='my-reviews'>\r\n          {reviews.map((review) => {\r\n            return (\r\n              <form\r\n                onSubmit={updateReview(review.id)}\r\n                className='my-reviews__review-container'\r\n                key={review.id}\r\n              >\r\n                <h1>{review.tour.name} tour</h1>\r\n                <h5>{review.createdAt.split('T')[0]}</h5>\r\n                <textarea\r\n                  name='review'\r\n                  id='review'\r\n                  rows='6'\r\n                  defaultValue={review.review}\r\n                ></textarea>\r\n                {/* <p>{review.review}</p> */}\r\n                <div className='review-star'>\r\n                  {[1, 2, 3, 4, 5].map((star, i) => {\r\n                    return (\r\n                      <BsStar\r\n                        key={i}\r\n                        className={\r\n                          review.rating >= star\r\n                            ? 'active star'\r\n                            : 'inactive star'\r\n                        }\r\n                      />\r\n                    );\r\n                  })}\r\n                  <input\r\n                    className='my-review__input num-input'\r\n                    name='rating'\r\n                    type='number'\r\n                    required\r\n                    min={1}\r\n                    max={5}\r\n                    step={0.5}\r\n                    defaultValue={review.rating}\r\n                  />\r\n                </div>\r\n                <div className='my-reviews__btns'>\r\n                  <button>update</button>\r\n                  <button onClick={deleteReview(review.id)}>delete</button>\r\n                </div>\r\n              </form>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    } else if (response.data.status !== 'success') {\r\n      showAlert(response.data.status, response.data.message, 5);\r\n      return;\r\n    } else {\r\n      return (\r\n        <div className='my-reviews'>\r\n          <h1>you don`t have reviews</h1>\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    return (\r\n      <div className='my-reviews'>\r\n        <div className='loading'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default function MyBilling() {\r\n  return (\r\n    <div>\r\n      <h1>billing</h1>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport '../../../css/managetour.css';\r\nimport { getMonthYear } from '../../../js/date';\r\nimport { BiUser } from 'react-icons/bi';\r\nimport { AiOutlineCalendar } from 'react-icons/ai';\r\nimport { FiFlag, FiMapPin } from 'react-icons/fi';\r\nimport { Link } from 'react-router-dom';\r\nimport { request } from '../../../js/axios';\r\nimport { showAlert } from '../../../js/alert';\r\n\r\nexport default function ManageTour({\r\n  id,\r\n  imageCover,\r\n  name,\r\n  ratingsAverage,\r\n  ratingsQuantity,\r\n  duration,\r\n  maxGroupSize,\r\n  difficulty,\r\n  summary,\r\n  price,\r\n  stops,\r\n  startLocation,\r\n  startDate,\r\n  slug,\r\n  setUpdateTour,\r\n  setId,\r\n}) {\r\n  const { month, year } = getMonthYear(startDate);\r\n\r\n  const deleteTour = (id) => async (e) => {\r\n    e.preventDefault();\r\n    const response = await request('DELETE', `/api/v1/tours/${id}`);\r\n    if ((response.status = 204)) {\r\n      showAlert('success', 'tour deleted', 1.5);\r\n      setTimeout(() => {\r\n        document.location.reload();\r\n      }, 1500);\r\n    }\r\n    if (response.status !== 204) {\r\n      showAlert('fail', response.data.message, 3);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='manage-tours__single-tour'>\r\n      {/* display the image cover and name of the tour */}\r\n      <div className='single-tour__header'>\r\n        <div className='single-tour__img-container'>\r\n          <img\r\n            className='single-tour__img'\r\n            src={`/public/img/tours/${imageCover}`}\r\n            alt={name}\r\n          />\r\n        </div>\r\n        <h3 className='single-tour__name'>\r\n          <span>{name}</span>\r\n        </h3>\r\n      </div>\r\n      {/* for the over view details of the tour */}\r\n      <div className='single-tour__details-container'>\r\n        <h4>\r\n          {difficulty} {duration}-day tour\r\n        </h4>\r\n        <p>{summary}</p>\r\n        <div className='single-tour__card-data'>\r\n          <div className='single-tour__card-el'>\r\n            <FiMapPin className='single-tour__card-el__icon' />\r\n            <span>{startLocation}</span>\r\n          </div>\r\n          <div className='single-tour__card-el'>\r\n            <AiOutlineCalendar className='single-tour__card-el__icon' />\r\n            <span>\r\n              {month} {year}\r\n            </span>\r\n          </div>\r\n          <div className='single-tour__card-el'>\r\n            <FiFlag className='single-tour__card-el__icon' />\r\n            <span>{stops} stops</span>\r\n          </div>\r\n          <div className='single-tour__card-el'>\r\n            <BiUser className='single-tour__card-el__icon' />\r\n            <span>{maxGroupSize} people</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* for the price and booking bottun */}\r\n      <div className='single-tour__card-footer'>\r\n        <div className='single-tour__footer-data'>\r\n          <div className='single-tour__footer-data__el'>\r\n            <span className='single-tour__footer__price'>${price}</span>\r\n            <span className='single-tour__footer-data__el__detail'>\r\n              per person\r\n            </span>\r\n          </div>\r\n          <div className='single-tour__footer-data__el'>\r\n            <span className='single-tour__footer__price'>{ratingsAverage}</span>\r\n            <span className='single-tour__footer-data__el__detail'>\r\n              rating({ratingsQuantity})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <Link\r\n          to={{ pathname: `/tour/${slug}`, state: { tourId: id } }}\r\n          className='single-tour__link '\r\n        >\r\n          details\r\n        </Link>\r\n      </div>\r\n      <div className='single-tour__buttons'>\r\n        <button\r\n          className='single-tour__button'\r\n          onClick={() => {\r\n            setUpdateTour(true);\r\n            setId(id);\r\n          }}\r\n        >\r\n          update\r\n        </button>\r\n        <button className='single-tour__button' onClick={deleteTour(id)}>\r\n          delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { showAlert } from './alert';\r\nimport { request } from './axios';\r\n\r\nexport async function createUpdateTour(e, type, id, guides) {\r\n  // console.log(e.target);\r\n\r\n  const tourGuides = guides;\r\n  console.log(tourGuides);\r\n\r\n  const name = e.target.name.value;\r\n  const duration = e.target.duration.value;\r\n  const maxGroupSize = e.target.maxGroupSize.value;\r\n  const difficulty = e.target.difficulty.value;\r\n  const price = e.target.price.value;\r\n  const summary = e.target.summary.value;\r\n  const description = e.target.description.value;\r\n  const startDates_1 = e.target.startDates_1.value;\r\n  const startDates_2 = e.target.startDates_3.value;\r\n  const startDates_3 = e.target.startDates_3.value;\r\n  const imageCover = e.target.imageCover.files[0];\r\n  const img_1 = e.target.img_1.files[0];\r\n  const img_2 = e.target.img_2.files[0];\r\n  const img_3 = e.target.img_3.files[0];\r\n  const description_startLocation = e.target.description_startLocation.value;\r\n  const address_startLocation = e.target.address_startLocation.value;\r\n  const lag_startLocation = e.target.lag_startLocation.value;\r\n  const lat_startLocation = e.target.lat_startLocation.value;\r\n  const coordinatesStartLocation = [lag_startLocation, lat_startLocation];\r\n  const startLocation = {};\r\n  startLocation.description = description_startLocation;\r\n  startLocation.address = address_startLocation;\r\n  startLocation.coordinates = coordinatesStartLocation;\r\n  const stringStartLocation = JSON.stringify(startLocation);\r\n  const locations = [];\r\n  for (let i = 0; i < e.target.num.value; i++) {\r\n    const location = {};\r\n    if (document.getElementById(`description_location${i + 1}`)) {\r\n      location.description = document.getElementById(\r\n        `description_location${i + 1}`\r\n      ).value;\r\n    }\r\n    if (\r\n      document.getElementById(`lag_location${i + 1}`) &&\r\n      document.getElementById(`lat_location${i + 1}`)\r\n    ) {\r\n      location.coordinates = [\r\n        document.getElementById(`lag_location${i + 1}`).value,\r\n        document.getElementById(`lat_location${i + 1}`).value,\r\n      ];\r\n    }\r\n    if (document.getElementById(`day_location${i + 1}`)) {\r\n      location.day = document.getElementById(`day_location${i + 1}`).value;\r\n    }\r\n    locations.push(location);\r\n  }\r\n  const stringLocations = JSON.stringify(locations);\r\n  // console.log(location);\r\n  // console.log(startLocation);\r\n  const form = new FormData();\r\n  form.append('name', name);\r\n  form.append('duration', duration);\r\n  form.append('price', price);\r\n  form.append('maxGroupSize', maxGroupSize);\r\n  form.append('difficulty', difficulty);\r\n  form.append('summary', summary);\r\n  form.append('description', description);\r\n  if (imageCover) form.append('imageCover', imageCover);\r\n  form.append('locations', stringLocations);\r\n  form.append('startLocation', stringStartLocation);\r\n  if (img_1) form.append('images', img_1);\r\n  if (img_2) form.append('images', img_2);\r\n  if (img_3) form.append('images', img_3);\r\n  if (startDates_1) form.append('startDates', startDates_1);\r\n  if (startDates_2) form.append('startDates', startDates_2);\r\n  if (startDates_3) form.append('startDates', startDates_3);\r\n  if (tourGuides) {\r\n    tourGuides.map((tourGuide) => form.append('guides', tourGuide));\r\n  }\r\n\r\n  let method;\r\n  let message;\r\n  let url;\r\n  if (type === 'create') {\r\n    method = 'POST';\r\n    message = 'created tour successfully';\r\n    url = 'api/v1/tours';\r\n  }\r\n  if (type === 'update') {\r\n    method = 'PATCH';\r\n    message = 'updated tour successfully';\r\n    url = `api/v1/tours/${id}`;\r\n  }\r\n  const response = await request(method, url, form);\r\n  if (response) {\r\n    if (response.data.status === 'success') {\r\n      showAlert('success', message, 1.5);\r\n      setTimeout(() => {\r\n        document.location.reload();\r\n      }, 1500);\r\n    }\r\n    if (response.data.status !== 'success') {\r\n      showAlert('fail', response.data.message, 5);\r\n    }\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../../../css/createtour.css';\r\nimport { showAlert } from '../../../js/alert';\r\nimport { request } from '../../../js/axios';\r\nimport { createUpdateTour } from '../../../js/createTour';\r\n\r\nimport { AiOutlineClose } from 'react-icons/ai';\r\n\r\nexport default function CreateTour() {\r\n  const [imageCover, setImageCover] = useState('default-tour.jpg');\r\n  const [img_1, setImg_1] = useState('default-tour.jpg');\r\n  const [img_2, setImg_2] = useState('default-tour.jpg');\r\n  const [img_3, setImg_3] = useState('default-tour.jpg');\r\n  const [num, setNum] = useState(0);\r\n  const [users, setUsers] = useState([]);\r\n  const [guides, setGuides] = useState([]);\r\n  // const [userGuides, setUserGuides] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      const response = await request('GET', '/api/v1/users');\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          setUsers(response.data.data.users);\r\n        } else if (response.data.status !== 'success') {\r\n          showAlert('fail', response.data.message, 3);\r\n        }\r\n      }\r\n    };\r\n    getUsers();\r\n  }, []);\r\n\r\n  // make an array to loop throw to show the number of inputs the user want\r\n  let locations = [];\r\n  for (let i = 0; i < num; i++) {\r\n    locations.push(i);\r\n  }\r\n\r\n  const handlePhoto = (img) => (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        if (img === 'cover') setImageCover(e.target.result);\r\n        if (img === 'img_1') setImg_1(e.target.result);\r\n        if (img === 'img_2') setImg_2(e.target.result);\r\n        if (img === 'img_3') setImg_3(e.target.result);\r\n      };\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    createUpdateTour(e, 'create', guides);\r\n  };\r\n\r\n  console.log(guides);\r\n  const userGuides = users.filter((user) => guides.includes(user._id));\r\n  console.log(userGuides);\r\n\r\n  return (\r\n    <form\r\n      className='create-tour-container'\r\n      encType='multipart/form-data'\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className='input-group'>\r\n        <label htmlFor='name'>name</label>\r\n        <input type='text' required name='name' id='name' minLength='5' />\r\n      </div>\r\n      <div className='section-input'>\r\n        <div className='input-group'>\r\n          <label htmlFor='duration'>duration</label>\r\n          <input\r\n            type='number'\r\n            required\r\n            name='duration'\r\n            id='duration'\r\n            minLength='1'\r\n            min='1'\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='maxGroupSize'>max group size</label>\r\n          <input\r\n            type='number'\r\n            required\r\n            name='maxGroupSize'\r\n            id='maxGroupSize'\r\n            minLength='1'\r\n            min='1'\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='difficulty'>difficulty</label>\r\n          <input\r\n            list='list'\r\n            required\r\n            name='difficulty'\r\n            id='difficulty'\r\n            minLength='1'\r\n            min='1'\r\n          />\r\n          <datalist id='list'>\r\n            <option value='easy'></option>\r\n            <option value='medium'></option>\r\n            <option value='difficult'></option>\r\n          </datalist>\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='price'>price</label>\r\n          <input\r\n            type='number'\r\n            required\r\n            name='price'\r\n            id='price'\r\n            minLength='1'\r\n            min='1'\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className='input-group summary'>\r\n        <label htmlFor='summary'>summary</label>\r\n        <textarea\r\n          name='summary'\r\n          id='summary'\r\n          required\r\n          minLength='10'\r\n        ></textarea>\r\n      </div>\r\n      <div className='input-group description'>\r\n        <label htmlFor='description' minLength='10'>\r\n          description\r\n        </label>\r\n        <textarea name='description' id='description' rows='6'></textarea>\r\n      </div>\r\n      <div className='input-group guide-input__group '>\r\n        <label htmlFor='guide'>guides</label>\r\n        <select\r\n          name='guide'\r\n          id='guide'\r\n          onChange={(e) =>\r\n            e.target.value === 'no guide'\r\n              ? setGuides([])\r\n              : setGuides(Array.from(new Set([...guides, e.target.value])))\r\n          }\r\n          className='guide-input__group__select'\r\n        >\r\n          <option value='no guide'>no guides</option>\r\n          {users.length >= 1 ? (\r\n            users\r\n              .filter((user) => user.role !== 'user' && user.role !== 'admin')\r\n              .map((user, i) => {\r\n                return (\r\n                  <option value={user._id} key={i}>\r\n                    {user.name.split(' ')[0]}----\r\n                    {user.role}\r\n                  </option>\r\n                );\r\n              })\r\n          ) : (\r\n            <option>no users</option>\r\n          )}\r\n        </select>\r\n        <div className='guides-info'>\r\n          {userGuides.map((guide, i) => {\r\n            return (\r\n              <div className='guide-info' key={i}>\r\n                <div className='guide-info__header'>\r\n                  <img\r\n                    className='guide-info__img'\r\n                    src={`/public/img/users/${guide.photo}`}\r\n                    alt=''\r\n                  />\r\n                  <h3>{guide.name}</h3>\r\n                  <AiOutlineClose\r\n                    className='remove-guide'\r\n                    onClick={() =>\r\n                      setGuides(guides.filter((id) => id !== guide._id))\r\n                    }\r\n                  />\r\n                </div>\r\n                <h4>{guide.role}</h4>\r\n                <h5>{guide.email}</h5>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div className='input-group'>\r\n        <label htmlFor='startDates'>start dates</label>\r\n        <div className='start-dates__input'>\r\n          <input type='datetime-local' name='startDates_1' id='startDates' />\r\n          <input type='datetime-local' name='startDates_2' id='startDates' />\r\n          <input type='datetime-local' name='startDates_3' id='startDates' />\r\n        </div>\r\n      </div>\r\n      <div className='startLocation'>\r\n        <h2>start location: </h2>\r\n        <div className='input-group discriptionLocation'>\r\n          <label htmlFor='description'>description</label>\r\n          <input\r\n            type='text'\r\n            name='description_startLocation'\r\n            id='description-location'\r\n            minLength='1'\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='address'>address</label>\r\n          <input\r\n            type='text'\r\n            name='address_startLocation'\r\n            id='address'\r\n            minLength='1'\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='coordinates'>coordinates</label>\r\n          <div className='coordinates__input'>\r\n            <input\r\n              type='number'\r\n              name='lag_startLocation'\r\n              id='lag'\r\n              step='0.00000000001'\r\n              placeholder='longitude'\r\n            />\r\n            <input\r\n              type='number'\r\n              name='lat_startLocation'\r\n              id='lat'\r\n              step='0.00000000001'\r\n              placeholder='latitude'\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/*  */}\r\n      <div className='locations'>\r\n        <div className='locations__number'>\r\n          <label>number of locations:</label>\r\n          <input\r\n            type='number'\r\n            name='num'\r\n            min='0'\r\n            onChange={(e) => setNum(e.target.value)}\r\n          />\r\n        </div>\r\n        {locations.map((num, i) => {\r\n          return (\r\n            <div key={i} className='locations__location-container'>\r\n              <h2>location {i + 1}: </h2>\r\n              <div className='input-group discriptionLocation'>\r\n                <label htmlFor='description'>description</label>\r\n                <input\r\n                  type='text'\r\n                  name={`description_location${i + 1}`}\r\n                  id={`description_location${i + 1}`}\r\n                  minLength='1'\r\n                />\r\n              </div>\r\n\r\n              <div className='input-group'>\r\n                <label htmlFor='coordinates'>coordinates</label>\r\n                <div className='coordinates__input'>\r\n                  <input\r\n                    type='number'\r\n                    name={`lag_location${i + 1}`}\r\n                    id={`lag_location${i + 1}`}\r\n                    step='0.00000000001'\r\n                    placeholder='longitude'\r\n                  />\r\n                  <input\r\n                    type='number'\r\n                    name={`lat_location${i + 1}`}\r\n                    id={`lat_location${i + 1}`}\r\n                    step='0.00000000001'\r\n                    placeholder='latitude'\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className='input-group day__number'>\r\n                <label htmlFor='day'>day</label>\r\n                <input\r\n                  type='number'\r\n                  name={`day_location${i + 1}`}\r\n                  id={`day_location${i + 1}`}\r\n                  minLength='1'\r\n                  min='1'\r\n                />\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {/*  */}\r\n\r\n      <div className='input-group__imageCover-container'>\r\n        <img src={imageCover} alt='' className='img-container__img' />\r\n        <label htmlFor='imageCover' className='input-img photo-btn'>\r\n          Cover Image\r\n        </label>\r\n        <input\r\n          type='file'\r\n          accept='image/*'\r\n          id='imageCover'\r\n          name='imageCover'\r\n          onChange={handlePhoto('cover')}\r\n        />\r\n      </div>\r\n      <div className='input-group__images-container'>\r\n        <div className='images-container__img-container'>\r\n          <img src={img_1} alt='' className='img-container__img_1' />\r\n          <label htmlFor='img_1' className='input-img photo-btn'>\r\n            first image\r\n          </label>\r\n          <input\r\n            type='file'\r\n            accept='image/*'\r\n            id='img_1'\r\n            name='img_1'\r\n            onChange={handlePhoto('img_1')}\r\n          />\r\n        </div>\r\n        <div className='images-container__img-container'>\r\n          <img src={img_2} alt='' className='img-container__img_2' />\r\n          <label htmlFor='img_2' className='input-img photo-btn'>\r\n            socend image\r\n          </label>\r\n          <input\r\n            type='file'\r\n            accept='image/*'\r\n            id='img_2'\r\n            name='img_2'\r\n            onChange={handlePhoto('img_2')}\r\n          />\r\n        </div>\r\n        <div className='images-container__img-container'>\r\n          <img src={img_3} alt='' className='img-container__img_3' />\r\n          <label htmlFor='img_3' className='input-img photo-btn'>\r\n            third image\r\n          </label>\r\n          <input\r\n            type='file'\r\n            accept='image/*'\r\n            id='img_3'\r\n            name='img_3'\r\n            onChange={handlePhoto('img_3')}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button className='create-tour__btn'>create tour</button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { AiOutlineClose } from 'react-icons/ai';\r\nimport { myContext } from '../../../Context';\r\nimport { showAlert } from '../../../js/alert';\r\nimport { request } from '../../../js/axios';\r\nimport { createUpdateTour } from '../../../js/createTour';\r\n\r\nexport default function UpdateTour({ id }) {\r\n  const { allTours } = useContext(myContext);\r\n  const tour = allTours.find((tour) => tour._id === id);\r\n  const [num, setNum] = useState(tour.locations.length);\r\n  const [users, setUsers] = useState([]);\r\n  const [guides, setGuides] = useState(tour.guides.map((guide) => guide._id));\r\n\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      const response = await request('GET', '/api/v1/users');\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          setUsers(response.data.data.users);\r\n        } else if (response.data.status !== 'success') {\r\n          showAlert('fail', response.data.message, 3);\r\n        }\r\n      }\r\n    };\r\n    getUsers();\r\n  }, []);\r\n\r\n  let locations = [];\r\n  for (let i = 0; i < num; i++) {\r\n    locations.push(i);\r\n  }\r\n\r\n  const [imageCover, setImageCover] = useState(\r\n    `/public/img/tours/${tour.imageCover}`\r\n  );\r\n  const [img_1, setImg_1] = useState(`/public/img/tours/${tour.images[0]}`);\r\n  const [img_2, setImg_2] = useState(`/public/img/tours/${tour.images[1]}`);\r\n  const [img_3, setImg_3] = useState(`/public/img/tours/${tour.images[2]}`);\r\n\r\n  const handlePhoto = (img) => (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        if (img === 'cover') setImageCover(e.target.result);\r\n        if (img === 'img_1') setImg_1(e.target.result);\r\n        if (img === 'img_2') setImg_2(e.target.result);\r\n        if (img === 'img_3') setImg_3(e.target.result);\r\n      };\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    createUpdateTour(e, 'update', tour._id, guides);\r\n  };\r\n\r\n  const userGuides = users.filter((user) => guides.includes(user._id));\r\n\r\n  return (\r\n    <form\r\n      className='create-tour-container'\r\n      encType='multipart/form-data'\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className='input-group'>\r\n        <label htmlFor='name'>name</label>\r\n        <input\r\n          type='text'\r\n          required\r\n          name='name'\r\n          id='name'\r\n          defaultValue={tour.name}\r\n          minLength='5'\r\n        />\r\n      </div>\r\n      <div className='section-input'>\r\n        <div className='input-group'>\r\n          <label htmlFor='duration'>duration</label>\r\n          <input\r\n            type='number'\r\n            required\r\n            name='duration'\r\n            id='duration'\r\n            minLength='1'\r\n            min='1'\r\n            defaultValue={tour.duration}\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='maxGroupSize'>max group size</label>\r\n          <input\r\n            type='number'\r\n            required\r\n            name='maxGroupSize'\r\n            id='maxGroupSize'\r\n            minLength='1'\r\n            min='1'\r\n            defaultValue={tour.maxGroupSize}\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='difficulty'>difficulty</label>\r\n          <input\r\n            list='list'\r\n            required\r\n            name='difficulty'\r\n            id='difficulty'\r\n            minLength='1'\r\n            min='1'\r\n            defaultValue={tour.difficulty}\r\n          />\r\n          <datalist id='list'>\r\n            <option value='easy'></option>\r\n            <option value='medium'></option>\r\n            <option value='difficult'></option>\r\n          </datalist>\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='price'>price</label>\r\n          <input\r\n            type='number'\r\n            required\r\n            name='price'\r\n            id='price'\r\n            minLength='1'\r\n            min='1'\r\n            defaultValue={tour.price}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className='input-group summary'>\r\n        <label htmlFor='summary'>summary</label>\r\n        <textarea\r\n          name='summary'\r\n          id='summary'\r\n          required\r\n          minLength='10'\r\n          defaultValue={tour.summary}\r\n        ></textarea>\r\n      </div>\r\n      <div className='input-group description'>\r\n        <label htmlFor='description' minLength='10'>\r\n          description\r\n        </label>\r\n        <textarea\r\n          name='description'\r\n          id='description'\r\n          rows='6'\r\n          defaultValue={tour.description}\r\n        ></textarea>\r\n      </div>\r\n\r\n      <div className='input-group guide-input__group '>\r\n        <label htmlFor='guide'>guides</label>\r\n        <select\r\n          name='guide'\r\n          id='guide'\r\n          onChange={(e) =>\r\n            e.target.value === 'no guide'\r\n              ? setGuides([])\r\n              : setGuides(Array.from(new Set([...guides, e.target.value])))\r\n          }\r\n          className='guide-input__group__select'\r\n        >\r\n          <option value='no guide'>no guides</option>\r\n          {users.length >= 1 ? (\r\n            users\r\n              .filter((user) => user.role !== 'user' && user.role !== 'admin')\r\n              .map((user, i) => {\r\n                return (\r\n                  <option value={user._id} key={i}>\r\n                    {user.name.split(' ')[0]}----\r\n                    {user.role}\r\n                  </option>\r\n                );\r\n              })\r\n          ) : (\r\n            <option>no users</option>\r\n          )}\r\n        </select>\r\n        <div className='guides-info'>\r\n          {userGuides.map((guide, i) => {\r\n            return (\r\n              <div className='guide-info' key={i}>\r\n                <div className='guide-info__header'>\r\n                  <img\r\n                    className='guide-info__img'\r\n                    src={`/public/img/users/${guide.photo}`}\r\n                    alt=''\r\n                  />\r\n                  <h3>{guide.name}</h3>\r\n                  <AiOutlineClose\r\n                    className='remove-guide'\r\n                    onClick={() =>\r\n                      setGuides(guides.filter((id) => id !== guide._id))\r\n                    }\r\n                  />\r\n                </div>\r\n                <h4>{guide.role}</h4>\r\n                <h5>{guide.email}</h5>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      <div className='input-group'>\r\n        <label htmlFor='startDates'>start dates</label>\r\n        <div className='start-dates__input'>\r\n          <input\r\n            type='datetime-local'\r\n            name='startDates_1'\r\n            id='startDates'\r\n            // defaultValue={tour.startDates[0]}\r\n          />\r\n          <input\r\n            type='datetime-local'\r\n            name='startDates_2'\r\n            id='startDates'\r\n            // defaultValue={tour.startDates[1]}\r\n          />\r\n          <input\r\n            type='datetime-local'\r\n            // defaultValue={tour.startDates[2]}\r\n            name='startDates_3'\r\n            id='startDates'\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className='startLocation'>\r\n        <h2>start location: </h2>\r\n        <div className='input-group discriptionLocation'>\r\n          <label htmlFor='description'>description</label>\r\n          <input\r\n            type='text'\r\n            name='description_startLocation'\r\n            id='description-location'\r\n            minLength='1'\r\n            defaultValue={tour.startLocation.description}\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='address'>address</label>\r\n          <input\r\n            type='text'\r\n            name='address_startLocation'\r\n            id='address'\r\n            minLength='1'\r\n            defaultValue={tour.startLocation.address}\r\n          />\r\n        </div>\r\n        <div className='input-group'>\r\n          <label htmlFor='coordinates'>coordinates</label>\r\n          <div className='coordinates__input'>\r\n            <input\r\n              type='number'\r\n              name='lag_startLocation'\r\n              id='lag'\r\n              step='0.00000000001'\r\n              placeholder='longitude'\r\n              defaultValue={tour.startLocation.coordinates[0]}\r\n            />\r\n            <input\r\n              type='number'\r\n              name='lat_startLocation'\r\n              id='lat'\r\n              step='0.00000000001'\r\n              placeholder='latitude'\r\n              defaultValue={tour.startLocation.coordinates[1]}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/*  */}\r\n      <div className='locations'>\r\n        <div className='locations__number'>\r\n          <label>number of locations:</label>\r\n          <input\r\n            type='number'\r\n            name='num'\r\n            defaultValue={num}\r\n            onChange={(e) => setNum(e.target.value)}\r\n          />\r\n        </div>\r\n        {locations.map((location, i) => {\r\n          return (\r\n            <div key={i} className='locations__location-container'>\r\n              <h2>location {i + 1}: </h2>\r\n              <div className='input-group discriptionLocation'>\r\n                <label htmlFor='description'>description</label>\r\n                <input\r\n                  type='text'\r\n                  name={`description_location${i + 1}`}\r\n                  id={`description_location${i + 1}`}\r\n                  minLength='1'\r\n                  defaultValue={\r\n                    tour.locations[i] ? tour.locations[i].description : ''\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className='input-group'>\r\n                <label htmlFor='coordinates'>coordinates</label>\r\n                <div className='coordinates__input'>\r\n                  <input\r\n                    type='number'\r\n                    name={`lag_location${i + 1}`}\r\n                    id={`lag_location${i + 1}`}\r\n                    step='0.00000000001'\r\n                    placeholder='longitude'\r\n                    defaultValue={\r\n                      tour.locations[i] ? tour.locations[i].coordinates[0] : ''\r\n                    }\r\n                  />\r\n                  <input\r\n                    type='number'\r\n                    name={`lat_location${i + 1}`}\r\n                    id={`lat_location${i + 1}`}\r\n                    step='0.00000000001'\r\n                    placeholder='latitude'\r\n                    defaultValue={\r\n                      tour.locations[i] ? tour.locations[i].coordinates[1] : ''\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className='input-group day__number'>\r\n                <label htmlFor='day'>day</label>\r\n                <input\r\n                  type='number'\r\n                  name={`day_location${i + 1}`}\r\n                  id={`day_location${i + 1}`}\r\n                  minLength='1'\r\n                  min='1'\r\n                  defaultValue={tour.locations[i] ? tour.locations[i].day : ''}\r\n                />\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {/*  */}\r\n\r\n      <div className='input-group__imageCover-container'>\r\n        <img\r\n          src={imageCover ? imageCover : 'default-tour.jpg'}\r\n          alt=''\r\n          className='img-container__img'\r\n        />\r\n        <label htmlFor='imageCover' className='input-img photo-btn'>\r\n          new Cover Image\r\n        </label>\r\n        <input\r\n          type='file'\r\n          accept='image/*'\r\n          id='imageCover'\r\n          name='imageCover'\r\n          onChange={handlePhoto('cover')}\r\n        />\r\n      </div>\r\n      <div className='input-group__images-container'>\r\n        <div className='images-container__img-container'>\r\n          <img\r\n            src={img_1 ? img_1 : 'default-tour.jpg'}\r\n            alt=''\r\n            className='img-container__img_1'\r\n          />\r\n          <label htmlFor='img_1' className='input-img photo-btn'>\r\n            choose new image\r\n          </label>\r\n          <input\r\n            type='file'\r\n            accept='image/*'\r\n            id='img_1'\r\n            name='img_1'\r\n            onChange={handlePhoto('img_1')}\r\n          />\r\n        </div>\r\n        <div className='images-container__img-container'>\r\n          <img\r\n            src={img_2 ? img_2 : 'default-tour.jpg'}\r\n            alt=''\r\n            className='img-container__img_2'\r\n          />\r\n          <label htmlFor='img_2' className='input-img photo-btn'>\r\n            choose new image\r\n          </label>\r\n          <input\r\n            type='file'\r\n            accept='image/*'\r\n            id='img_2'\r\n            name='img_2'\r\n            onChange={handlePhoto('img_2')}\r\n          />\r\n        </div>\r\n        <div className='images-container__img-container'>\r\n          <img\r\n            src={img_3 ? img_3 : 'default-tour.jpg'}\r\n            alt=''\r\n            className='img-container__img_3'\r\n          />\r\n          <label htmlFor='img_3' className='input-img photo-btn'>\r\n            choose new image\r\n          </label>\r\n          <input\r\n            type='file'\r\n            accept='image/*'\r\n            id='img_3'\r\n            name='img_3'\r\n            onChange={handlePhoto('img_3')}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button className='create-tour__btn'>update tour</button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport '../../../css/managetours.css';\r\nimport { BiAddToQueue, BiArrowBack } from 'react-icons/bi';\r\nimport { Link } from 'react-router-dom';\r\nimport { myContext } from '../../../Context';\r\nimport ManageTour from './ManageTour';\r\nimport CreateTour from './CreateTour';\r\nimport UpdateTour from './UpdateTour';\r\n\r\nexport default function ManageTours() {\r\n  const { allTours } = useContext(myContext);\r\n  const [createTour, setCreateTour] = useState(false);\r\n  const [updateTour, setUpdateTour] = useState(false);\r\n  const [id, setId] = useState();\r\n\r\n  return (\r\n    <div className='manage-tours'>\r\n      {createTour || updateTour ? (\r\n        <Link\r\n          to='#'\r\n          title='back to tours'\r\n          onClick={() => {\r\n            setCreateTour(false);\r\n            setUpdateTour(false);\r\n          }}\r\n        >\r\n          <BiArrowBack className='add-icon' />\r\n        </Link>\r\n      ) : (\r\n        <Link to='#' title='add new tour' onClick={() => setCreateTour(true)}>\r\n          <BiAddToQueue className='add-icon' />\r\n        </Link>\r\n      )}\r\n      {createTour ? (\r\n        <CreateTour />\r\n      ) : updateTour ? (\r\n        <UpdateTour id={id} />\r\n      ) : (\r\n        <div className='tours-container'>\r\n          {allTours.map((tour, i) => {\r\n            return (\r\n              <ManageTour\r\n                key={i}\r\n                id={tour.id}\r\n                imageCover={tour.imageCover}\r\n                name={tour.name}\r\n                ratingsAverage={tour.ratingsAverage}\r\n                ratingsQuantity={tour.ratingsQuantity}\r\n                duration={tour.duration}\r\n                maxGroupSize={tour.maxGroupSize}\r\n                difficulty={tour.difficulty}\r\n                summary={tour.summary}\r\n                price={tour.price}\r\n                stops={tour.locations.length}\r\n                startLocation={tour.startLocation.description}\r\n                startDate={tour.startDates[0]}\r\n                slug={tour.slug}\r\n                setUpdateTour={setUpdateTour}\r\n                setId={setId}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport '../../../css/manageusers.css';\r\nimport { request } from '../../../js/axios';\r\nimport { showAlert } from '../../../js/alert';\r\nimport { myContext } from '../../../Context';\r\n\r\nexport default function ManageUsers() {\r\n  const { currentUser } = useContext(myContext);\r\n  const [users, setUsers] = useState();\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      if (currentUser.role === 'admin') {\r\n        const getUsers = async () => {\r\n          const response = await request('GET', '/api/v1/users');\r\n          setUsers(response.data.data.users);\r\n        };\r\n        getUsers();\r\n      }\r\n    }\r\n    return () => {\r\n      setUsers('');\r\n    };\r\n  }, [currentUser]);\r\n\r\n  const handleUpdateUser = (id) => async (e) => {\r\n    e.preventDefault();\r\n    // console.log(e.target.role.value);\r\n    // console.log(id);\r\n    const response = await request('PATCH', `/api/v1/users/${id}`, {\r\n      role: e.target.role.value,\r\n    });\r\n    if (response) {\r\n      if (response.data.status === 'success') {\r\n        showAlert('success', 'user updated', 1.5);\r\n      }\r\n      if (response.data.status !== 'success') {\r\n        showAlert('fail', response.data.message, 3);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    // console.log(id);\r\n    const response = await request('DELETE', `/api/v1/users/${id}`);\r\n    if ((response.status = 204)) {\r\n      showAlert('success', 'user deleted', 1.5);\r\n      setUsers(users.filter((user) => user._id !== id));\r\n    }\r\n    if (response.status !== 204) {\r\n      showAlert('fail', response.data.message, 3);\r\n    }\r\n  };\r\n\r\n  if (users) {\r\n    if (users.length >= 1) {\r\n      return (\r\n        <div className='users-container'>\r\n          {users.map((user, i) => {\r\n            return (\r\n              <div className='users-container___user' key={i}>\r\n                <div className='user-container__user__header'>\r\n                  <img\r\n                    className='signup__photo'\r\n                    src={`/public/img/users/${user.photo}`}\r\n                    alt={user.name.split(' ')[0]}\r\n                  />\r\n                  <h2>{user.name}</h2>\r\n                </div>\r\n                <div className='user-container__user__email'>\r\n                  <label>email</label>\r\n                  <input value={user.email} readOnly></input>\r\n                </div>\r\n\r\n                <div className='user-container__user__role'>\r\n                  <label>role</label>\r\n                  <input value={user.role || ''} readOnly></input>\r\n                </div>\r\n                <form\r\n                  className='update-user__form'\r\n                  onSubmit={handleUpdateUser(user._id)}\r\n                >\r\n                  <label>make {user.name.split(' ')[0]}</label>\r\n                  <div className='update-role__radio-group'>\r\n                    <input type='radio' value='user' name='role' required />\r\n                    <label>normal user</label>\r\n                  </div>\r\n                  <div className='update-role__radio-group'>\r\n                    <input type='radio' value='guide' name='role' />\r\n                    <label>guide</label>\r\n                  </div>\r\n                  <div className='update-role__radio-group'>\r\n                    <input type='radio' value='lead-guide' name='role' />\r\n                    <label>lead-guide</label>\r\n                  </div>\r\n                  <div className='update-role__radio-group'>\r\n                    <input type='radio' value='admin' name='role' />\r\n                    <label>admin</label>\r\n                  </div>\r\n                  <div className='manage-users__btns'>\r\n                    <button className='update-user__btn'>update</button>\r\n                    <button\r\n                      className='delete-user__btn'\r\n                      onClick={() => deleteUser(user._id)}\r\n                    >\r\n                      delete\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n    if (users.length < 1) {\r\n      return <h1>you do not have users yet</h1>;\r\n    }\r\n  } else {\r\n    return (\r\n      <div className='my-reviews'>\r\n        <div className='loading'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { myContext } from '../../../Context';\r\nimport '../../../css/managereviews.css';\r\n// import { IoIosArrowDropdownCircle } from 'react-icons/io';\r\nimport { request } from '../../../js/axios';\r\nimport { showAlert } from '../../../js/alert';\r\nimport { BsStar } from 'react-icons/bs';\r\n\r\nexport default function ManageReviews() {\r\n  const { allTours } = useContext(myContext);\r\n  const [reviews, setReviews] = useState();\r\n  const [filterReviews, setFilterReviews] = useState([]);\r\n  // const [showReviews, setShowReviews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getAllReviews = async () => {\r\n      const response = await request('GET', '/api/v1/reviews');\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          setReviews(response.data.data.reviews);\r\n          setFilterReviews(response.data.data.reviews);\r\n        }\r\n        if (response.data.status !== 'success') {\r\n          showAlert('fail', response.data.message, 3);\r\n        }\r\n      }\r\n    };\r\n    getAllReviews();\r\n  }, []);\r\n\r\n  // console.log(reviews);\r\n  const showReviews = (e) => {\r\n    if (e.target.value === 'allReviews') {\r\n      setFilterReviews(reviews);\r\n    } else {\r\n      const id = e.target.value;\r\n      setFilterReviews(reviews.filter((review) => review.tour._id === id));\r\n    }\r\n  };\r\n\r\n  const handleDeleteReview = async (id) => {\r\n    const response = await request('DELETE', `/api/v1/reviews/${id}`);\r\n    if ((response.status = 204)) {\r\n      showAlert('success', 'review deleted', 1.5);\r\n      setFilterReviews(filterReviews.filter((review) => review._id !== id));\r\n    }\r\n    if (response.status !== 204) {\r\n      showAlert('fail', response.data.message, 3);\r\n    }\r\n  };\r\n\r\n  if (reviews) {\r\n    return (\r\n      <div className='manage-reviews'>\r\n        <select\r\n          name='reviews'\r\n          id='reviews'\r\n          onChange={showReviews}\r\n          className='manage-reviews__select'\r\n        >\r\n          <option value='allReviews'>all reviews ({reviews.length}) </option>\r\n          {allTours.map((tour, i) => {\r\n            return (\r\n              <option value={tour._id} key={i}>\r\n                {tour.name} tour\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n        <div className='manage-reviews__container'>\r\n          {filterReviews.length >= 1 ? (\r\n            filterReviews.map((review, i) => {\r\n              return (\r\n                <div\r\n                  className='my-reviews__review-container manage-reviews__review-container '\r\n                  key={i}\r\n                >\r\n                  <div className='review-user'>\r\n                    <img\r\n                      className='review-user__img'\r\n                      src={`/public/img/users/${review.user.photo}`}\r\n                      alt=''\r\n                    />\r\n                    <h1>{review.user.name.split(' ')[0]}</h1>\r\n                  </div>\r\n                  <h1>{review.tour.name} tour</h1>\r\n                  <h5>{review.createdAt.split('T')[0]}</h5>\r\n                  <textarea\r\n                    name='review'\r\n                    id='review'\r\n                    rows='6'\r\n                    defaultValue={review.review}\r\n                    readOnly\r\n                  ></textarea>\r\n                  {/* <p>{review.review}</p> */}\r\n                  <div className='review-star'>\r\n                    {[1, 2, 3, 4, 5].map((star, i) => {\r\n                      return (\r\n                        <BsStar\r\n                          key={i}\r\n                          className={\r\n                            review.rating >= star\r\n                              ? 'active star'\r\n                              : 'inactive star'\r\n                          }\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  <button onClick={() => handleDeleteReview(review._id)}>\r\n                    delete\r\n                  </button>\r\n                </div>\r\n              );\r\n            })\r\n          ) : (\r\n            <h1>no reviews</h1>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className='my-reviews'>\r\n        <div className='loading'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../../../css/managebooking.css';\r\n// import { myContext } from '../../../Context';\r\n\r\nimport { request } from '../../../js/axios';\r\n\r\nexport default function ManageBookings() {\r\n  const [bookings, setBookings] = useState();\r\n\r\n  useEffect(() => {\r\n    const getAllBookings = async () => {\r\n      const response = await request('GET', '/api/v1/bookings');\r\n      if (response) {\r\n        if (response.data.status === 'success') {\r\n          setBookings(response.data.data.bookings);\r\n        }\r\n      }\r\n    };\r\n    getAllBookings();\r\n  }, []);\r\n\r\n  console.log(bookings);\r\n\r\n  if (bookings) {\r\n    if (bookings.length >= 1) {\r\n      return (\r\n        <div className='bookings-table'>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th className='table__el'>tour</th>\r\n                <th className='table__el'>user name</th>\r\n                <th className='table__el'>user email</th>\r\n                <th className='table__el'>price</th>\r\n                <th className='table__el'>paid</th>\r\n                <th className='table__el'>time</th>\r\n              </tr>\r\n            </thead>\r\n            {bookings.map((booking, i) => {\r\n              return (\r\n                <tbody key={i}>\r\n                  <tr>\r\n                    <td className='table__el'>{booking.tour.name} tour</td>\r\n                    <td className='table__el'>\r\n                      {booking.user.name.split(' ')[0]}\r\n                    </td>\r\n                    <td className='table__el'>{booking.user.email}</td>\r\n                    <td className='table__el'>{booking.price}</td>\r\n                    <td className='table__el'>\r\n                      {booking.paid ? 'true' : 'false'}\r\n                    </td>\r\n                    <td className='table__el'>\r\n                      {booking.createdAt.split('T')[0]}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              );\r\n            })}\r\n          </table>\r\n        </div>\r\n      );\r\n    }\r\n    if (bookings.length < 1) {\r\n      return (\r\n        <div className='my-reviews'>\r\n          <h1>No Bookings</h1>\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    return (\r\n      <div className='my-reviews'>\r\n        <div className='loading'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport '../../css/myaccount.css';\r\nimport {\r\n  FiSettings,\r\n  FiBriefcase,\r\n  FiCreditCard,\r\n  FiMap,\r\n  FiUsers,\r\n} from 'react-icons/fi';\r\nimport { BsStar } from 'react-icons/bs';\r\nimport { Link } from 'react-router-dom';\r\nimport { myContext } from '../../Context';\r\nimport { AiOutlineClose } from 'react-icons/ai';\r\nimport { TiThMenuOutline } from 'react-icons/ti';\r\n\r\nimport Settings from './MySettings';\r\nimport MyBookings from './MyBookings';\r\nimport MyReviews from './MyReviews';\r\nimport MyBilling from './MyBilling';\r\nimport ManageTours from './admin-component/ManageTours';\r\nimport ManageUsers from './admin-component/ManageUsers';\r\nimport ManageReviews from './admin-component/ManageReviews';\r\nimport ManageBookings from './admin-component/ManageBookings';\r\n\r\nexport default function MyAccount() {\r\n  const { currentUser } = useContext(myContext);\r\n  const [toggle, setToggle] = useState(false);\r\n  const [component, setComponent] = useState(<Settings />);\r\n  const [active, setActive] = useState('settings');\r\n\r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'auto',\r\n    });\r\n  };\r\n\r\n  if (currentUser) {\r\n    document.title = `Natours | ${currentUser.name} `;\r\n    return (\r\n      <>\r\n        <section className='me-container'>\r\n          <TiThMenuOutline\r\n            className={\r\n              toggle ? 'apps-icon hide-apps-icon' : 'apps-icon show-apps-icon'\r\n            }\r\n            onClick={() => setToggle(true)}\r\n          />\r\n          <div\r\n            className={\r\n              toggle ? 'side-nav show-side-nav' : 'side-nav hide-side-nav'\r\n            }\r\n          >\r\n            <AiOutlineClose\r\n              className={toggle ? 'x show-x' : 'x hide-x'}\r\n              onClick={() => setToggle(false)}\r\n            />\r\n            <Link\r\n              to='#'\r\n              className={\r\n                active === 'settings' ? 'side-nav__el active' : 'side-nav__el'\r\n              }\r\n              onClick={() => {\r\n                setToggle(false);\r\n                setComponent(<Settings />);\r\n                setActive('settings');\r\n                scrollToTop();\r\n              }}\r\n            >\r\n              <FiSettings className='side-nav__el__icon' />\r\n              <span>settings</span>\r\n            </Link>\r\n            <Link\r\n              to='#'\r\n              className={\r\n                active === 'MyBookings' ? 'side-nav__el active' : 'side-nav__el'\r\n              }\r\n              onClick={() => {\r\n                setToggle(false);\r\n                setComponent(<MyBookings />);\r\n                setActive('MyBookings');\r\n                scrollToTop();\r\n              }}\r\n            >\r\n              <FiBriefcase className='side-nav__el__icon' />\r\n              <span>my bookings</span>\r\n            </Link>\r\n            <Link\r\n              to='#'\r\n              className={\r\n                active === 'MyReviews' ? 'side-nav__el active' : 'side-nav__el'\r\n              }\r\n              onClick={() => {\r\n                setToggle(false);\r\n                setComponent(<MyReviews />);\r\n                setActive('MyReviews');\r\n                scrollToTop();\r\n              }}\r\n            >\r\n              <BsStar className='side-nav__el__icon' />\r\n              <span>my reviews</span>\r\n            </Link>\r\n            <Link\r\n              to='#'\r\n              className={\r\n                active === 'MyBilling' ? 'side-nav__el active' : 'side-nav__el'\r\n              }\r\n              onClick={() => {\r\n                setToggle(false);\r\n                setComponent(<MyBilling />);\r\n                setActive('MyBilling');\r\n                scrollToTop();\r\n              }}\r\n            >\r\n              <FiCreditCard className='side-nav__el__icon' />\r\n              <span>billing</span>\r\n            </Link>\r\n            {currentUser.role === 'admin' ? (\r\n              <div className='admin-links'>\r\n                <div className='admin-links__header'>\r\n                  <h3>admin</h3>\r\n                </div>\r\n                <Link\r\n                  to='#'\r\n                  className={\r\n                    active === 'manageTours'\r\n                      ? 'side-nav__el active'\r\n                      : 'side-nav__el'\r\n                  }\r\n                  onClick={() => {\r\n                    setToggle(false);\r\n                    setComponent(<ManageTours />);\r\n                    setActive('manageTours');\r\n                    scrollToTop();\r\n                  }}\r\n                >\r\n                  <FiMap className='side-nav__el__icon' />\r\n                  <span>manage tours</span>\r\n                </Link>{' '}\r\n                <Link\r\n                  to='#'\r\n                  className={\r\n                    active === 'manageUsers'\r\n                      ? 'side-nav__el active'\r\n                      : 'side-nav__el'\r\n                  }\r\n                  onClick={() => {\r\n                    setToggle(false);\r\n                    setComponent(<ManageUsers />);\r\n                    setActive('manageUsers');\r\n                    scrollToTop();\r\n                  }}\r\n                >\r\n                  <FiUsers className='side-nav__el__icon' />\r\n                  <span>manage users</span>\r\n                </Link>\r\n                <Link\r\n                  to='#'\r\n                  className={\r\n                    active === 'manageReviews'\r\n                      ? 'side-nav__el active'\r\n                      : 'side-nav__el'\r\n                  }\r\n                  onClick={() => {\r\n                    setToggle(false);\r\n                    setComponent(<ManageReviews />);\r\n                    setActive('manageReviews');\r\n                    scrollToTop();\r\n                  }}\r\n                >\r\n                  <BsStar className='side-nav__el__icon' />\r\n                  <span>manage reviews</span>\r\n                </Link>\r\n                <Link\r\n                  to='#'\r\n                  className={\r\n                    active === 'manageBookings'\r\n                      ? 'side-nav__el active'\r\n                      : 'side-nav__el'\r\n                  }\r\n                  onClick={() => {\r\n                    setToggle(false);\r\n                    setComponent(<ManageBookings />);\r\n                    setActive('manageBookings');\r\n                    scrollToTop();\r\n                  }}\r\n                >\r\n                  <FiBriefcase className='side-nav__el__icon' />\r\n                  <span>manage bookings</span>\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n          <div\r\n            className={\r\n              toggle\r\n                ? 'component hide-me-settings'\r\n                : 'component show-me-settings'\r\n            }\r\n          >\r\n            {component}\r\n          </div>\r\n        </section>\r\n      </>\r\n    );\r\n  } else return null;\r\n}\r\n","import './App.css';\nimport React from 'react';\nimport NavBar from './component/NavBar';\nimport { Route, Switch } from 'react-router';\nimport AllTours from './component/AllTours';\nimport TourDetails from './component/TourDetails';\nimport LogIn from './component/LogIn';\nimport SignUp from './component/SignUp';\nimport Error from './component/Error';\nimport MyAccount from './component/my-account-page/MyAccount';\n\nfunction App() {\n  return (\n    <div className='App'>\n      <NavBar />\n      <Switch>\n        <Route exact path='/'>\n          <AllTours />\n        </Route>\n        <Route path='/tour/:slug'>\n          <TourDetails />\n        </Route>\n        <Route path='/login'>\n          <LogIn />\n        </Route>\n        <Route path='/signup'>\n          <SignUp />\n        </Route>\n        <Route path='/myaccount'>\n          <MyAccount />\n        </Route>\n        <Route path='*'>\n          <Error />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Context from './Context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Context>\n      <Router>\n        <App />\n      </Router>\n    </Context>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}